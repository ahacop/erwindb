{"version":2,"width":180,"height":42,"timestamp":1769947954,"idle_time_limit":1.0,"env":{"SHELL":"/run/current-system/sw/bin/zsh","TERM":"screen-256color"},"title":"ErwinDB - Erwin Mode"}
[0.145435, "o", "\u001b[?1049h\u001b[?1000h\u001b[?1002h\u001b[?1003h\u001b[?1015h\u001b[?1006h"]
[0.14634, "o", "\u001b[1;1H\u001b[1m\u001b[38;5;15;48;5;4m ErwinDB (3794 questions)                                                                                                                                                           \u001b[2;1H\u001b[22m\u001b[38;5;8;49m   \u001b[1m     ID  Date          Score▼  Views    A  Title\u001b[3;1H\u001b[38;5;0;48;5;6m > \u001b[22m\u001b[38;5;6;49m 3800551 \u001b[1m\u001b[38;5;15;49mSep 27, 2010   2071    1.9M   21 Select first row in each GROUP BY group?\u001b[4;4H\u001b[22m\u001b[38;5;8;49m  244243 Oct 28, 2008 \u001b[38;5;2;49m   760 \u001b[38;5;8;49m 480.7K \u001b[38;5;2;49m  36 \u001b[39;49mHow\u001b[4;50Hto\u001b[4;53Hreset\u001b[4;59HPostgres&#39;\u001b[4;73Hprimary\u001b[4;81Hkey\u001b[4;85Hsequence\u001b[4;94Hwhen\u001b[4;99Hit\u001b[4;102Hfalls\u001b[4;108Hout\u001b[4;112Hof\u001b[4;115Hsync?\u001b[5;4H\u001b[38;5;8;49m   54418 Sep 10, 2008 \u001b[38;5;2;49m   614 \u001b[38;5;8;49m   1.4M \u001b[38;5;2;49m   5 \u001b[39;49mHow\u001b[5;50Hdo\u001b[5;53HI\u001b[5;55H(or\u001b[5;59Hcan\u001b[5;63HI)\u001b[5;66HSELECT\u001b[5;73HDISTINCT\u001b[5;82Hon\u001b[5;85Hmultiple\u001b[5;94Hcolumns?\u001b[6;4H\u001b[38;5;8;49m34708509 Jan 10, 2016 \u001b[38;5;2;49m   383 \u001b[38;5;8;49m 247.3K \u001b[38;5;2;49m  11 \u001b[39;49mHow\u001b[6;50Hto\u001b[6;53Huse\u001b[6;57HRETURNING\u001b[6;67Hwith\u001b[6;72HON\u001b[6;75HCONFLICT\u001b[6;84Hin\u001b[6;87HPostgreSQL?\u001b[7;4H\u001b[38;5;8;49m28550679 Feb 16, 2015 \u001b[38;5;2;49m   378 \u001b[38;5;8;49m 458.5K \u001b[38;5;2;49m   5 \u001b[39;49mWhat\u001b[7;51His\u001b[7;54Hthe\u001b[7;58Hdifference\u001b[7;69Hbetween\u001b[7;77HLATERAL\u001b[7;85HJOIN\u001b[7;90Hand\u001b[7;94Ha\u001b[7;96Hsubquery\u001b[7;105Hin\u001b[7;108HPostgreSQL?\u001b[8;4H\u001b[38;5;8;49m34627026 Jan 06, 2016 \u001b[38;5;2;49m   353 \u001b[38;5;8;49m 513.3K    3 \u001b[39;49mIN\u001b[8;49Hvs\u001b[8;52HANY\u001b[8;56Hoperator\u001b[8;65Hin\u001b[8;68HPostgreSQL\u001b[9;4H\u001b[38;5;8;49m 1766046 Nov 19, 2009 \u001b[38;5;2;49m   339 \u001b[38;5;8;49m 524.4K    6 \u001b[39;49mPostgreSQL\u001b[9;57Hcreate\u001b[9;64Htable\u001b[9;70Hif\u001b[9;73Hnot\u001b[9;77Hexists\u001b[10;4H\u001b[38;5;8;49m 3002499 Jun 09, 2010 \u001b[38;5;2;49m   285 \u001b[38;5;8;49m 395.1K \u001b[38;5;2;49m   7 \u001b[39;49mPostgreSQL\u001b[10;57HCrosstab\u001b[10;66HQuery\u001b[11;4H\u001b[38;5;8;49m28888375 Mar 05, 2015 \u001b[38;5;2;49m   273 \u001b[38;5;8;49m 178.9K \u001b[38;5;2;49m   4 \u001b[39;49mRun\u001b[11;50Ha\u001b[11;52Hquery\u001b[11;58Hwith\u001b[11;63Ha\u001b[11;65HLIMIT/OFFSET\u001b[11;78Hand\u001b[11;82Halso\u001b[11;87Hget\u001b[11;91Hthe\u001b[11;95Htotal\u001b[11;101Hnumber\u001b[11;108Hof\u001b[11;111Hrows\u001b[12;4H\u001b[38;5;8;49m26703476 Nov 02, 2014 \u001b[38;5;2;49m   268 \u001b[38;5;8;49m 380.1K \u001b[38;5;2;49m  11 \u001b[39;49mHow\u001b[12;50Hto\u001b[12;53Hperform\u001b[12;61Hupdate\u001b[12;68Hoperations\u001b[12;79Hon\u001b[12;82Hcolumns\u001b[12;90Hof\u001b[12;93Htype\u001b[12;98HJSONB\u001b[13;4H\u001b[38;5;8;49m  866465 May 15, 2009 \u001b[38;5;2;49m   267 \u001b[38;5;8;49m 198.9K \u001b[38;5;2;49m  17 \u001b[39;49mORDER\u001b[13;52HBY\u001b[13;55Hthe\u001b[13;59HIN\u001b[13;62Hvalue\u001b[13;68Hlist\u001b[14;4H\u001b[38;5;8;49m 4058731 Oct 30, 2010 \u001b[38;5;2;49m   246 \u001b[38;5;8;49m 184.8K \u001b[38;5;2;49m   3 \u001b[39;49mCan\u001b[14;50HPostgreSQL\u001b[14;61Hindex\u001b[14;67Harray\u001b[14;73Hcolumns?\u001b[15;4H\u001b[38;5;8;49m 2829158 May 13, 2010 \u001b[38;5;2;49m   236 \u001b[38;5;8;49m 318.6K \u001b[38;5;2;49m  14 \u001b[39;49mTruncating\u001b[15;57Hall\u001b[15;61Htables\u001b[15;68Hin\u001b[15;71Ha\u001b[15;73HPostgres\u001b[15;82Hdatabase\u001b[16;4H\u001b[38;5;8;49m 2763817 May 04, 2010 \u001b[38;5;2;49m   205 \u001b[38;5;8;49m 303.6K    8 \u001b[39;49mSQL\u001b[16;50Hupdate\u001b[16;57Hfields\u001b[16;64Hof\u001b[16;67Hone\u001b[16;71Htable\u001b[16;77Hfrom\u001b[16;82Hfields\u001b[16;89Hof\u001b[16;92Hanother\u001b[16;100Hone\u001b[17;4H\u001b[38;5;8;49m 6583916 Jul 05, 2011 \u001b[38;5;2;49m   198 \u001b[38;5;8;49m 210.6K \u001b[38;5;2;49m  15 \u001b[39;49mDelete\u001b[17;53Hduplicate\u001b[17;63Hrows\u001b[17;68Hfrom\u001b[17;73Hsmall\u001b[17;79Htable\u001b[18;4H\u001b[38;5;8;49m 7510092 Sep 22, 2011 \u001b[38;5;2;49m   193 \u001b[38;5;8;49m 113.9K \u001b[38;5;2;49m  13 \u001b[39;49mWhat\u001b[18;51Hare\u001b[18;55Hthe\u001b[18;59Hpros\u001b[18;64Hand\u001b[18;68Hcons\u001b[18;73Hof\u001b[18;76Hperforming\u001b[18;87Hcalculations\u001b[18;100Hin\u001b[18;103Hsql\u001b[18;107Hvs.\u001b[18;111Hin\u001b[18;114Hyour\u001b[18;119Happlication\u001b[19;4H\u001b[38;5;8;49m 5350088 Mar 18, 2011 \u001b[38;5;2;49m   185 \u001b[38;5;8;49m 240.3K \u001b[38;5;2;49m  10 \u001b[39;49mHow\u001b[19;50Hto\u001b[19;53Hsearch\u001b[19;60Ha\u001b[19;62Hspecific\u001b[19;71Hvalue\u001b[19;77Hin\u001b[19;80Hall\u001b[19;84Htables\u001b[19;91H(PostgreSQL)?\u001b[20;4H\u001b[38;5;8;49m35888012 Mar 09, 2016 \u001b[38;5;2;49m   179 \u001b[38;5;8;49m 212.2K \u001b[38;5;2;49m  14 \u001b[39;49mUse\u001b[20;50Hmultiple\u001b[20;59Hconflict_target\u001b[20;75Hin\u001b[20;78HON\u001b[20;81HCONFLICT\u001b[20;90Hclause\u001b[21;4H\u001b[38;5;8;49m 2082686 Jan 17, 2010 \u001b[38;5;2;49m   178 \u001b[38;5;8;49m 264.7K \u001b[38;5;2;49m  14 \u001b[39;49mHow\u001b[21;50Hdo\u001b[21;53HI\u001b[21;55Hcast\u001b[21;60Ha"]
[0.14638, "o", "\u001b[21;62Hstring\u001b[21;69Hto\u001b[21;72Hinteger\u001b[21;80Hand\u001b[21;84Hhave\u001b[21;89H0\u001b[21;91Hin\u001b[21;94Hcase\u001b[21;99Hof\u001b[21;102Herror\u001b[21;108Hin\u001b[21;111Hthe\u001b[21;115Hcast\u001b[21;120Hwith\u001b[21;125HPostgreSQL?\u001b[22;4H\u001b[38;5;8;49m 1566717 Oct 14, 2009 \u001b[38;5;2;49m   170 \u001b[38;5;8;49m 182.2K \u001b[38;5;2;49m   8 \u001b[39;49mPostgreSQL\u001b[22;57HLIKE\u001b[22;62Hquery\u001b[22;68Hperformance\u001b[22;80Hvariations\u001b[23;4H\u001b[38;5;8;49m 7621205 Oct 01, 2011 \u001b[38;5;2;49m   160 \u001b[38;5;8;49m  85.4K \u001b[38;5;2;49m   2 \u001b[39;49mSort\u001b[23;51HNULL\u001b[23;56Hvalues\u001b[23;63Hto\u001b[23;66Hthe\u001b[23;70Hend\u001b[23;74Hof\u001b[23;77Ha\u001b[23;79Htable\u001b[24;4H\u001b[38;5;8;49m51256454 Jul 10, 2018 \u001b[38;5;2;49m   152 \u001b[38;5;8;49m 184.8K \u001b[38;5;2;49m   7 \u001b[39;49mCannot\u001b[24;53Hdrop\u001b[24;58HPostgreSQL\u001b[24;69Hrole.\u001b[24;75HError:\u001b[24;82H`cannot\u001b[24;90Hbe\u001b[24;93Hdropped\u001b[24;101Hbecause\u001b[24;109Hsome\u001b[24;114Hobjects\u001b[24;122Hdepend\u001b[24;129Hon\u001b[24;132Hit`\u001b[25;4H\u001b[38;5;8;49m35248217 Feb 07, 2016 \u001b[38;5;2;49m   141 \u001b[38;5;8;49m 161.2K \u001b[38;5;2;49m   4 \u001b[39;49mHow\u001b[25;50Hto\u001b[25;53Huse\u001b[25;57Hmultiple\u001b[25;66HCTEs\u001b[25;71Hin\u001b[25;74Ha\u001b[25;76Hsingle\u001b[25;83HSQL\u001b[25;87Hquery?\u001b[26;4H\u001b[38;5;8;49m 6362112 Jun 15, 2011 \u001b[38;5;2;49m   139 \u001b[38;5;8;49m 223.3K \u001b[38;5;2;49m  10 \u001b[39;49mIN\u001b[26;49HClause\u001b[26;56Hwith\u001b[26;61HNULL\u001b[26;66Hor\u001b[26;69HIS\u001b[26;72HNULL\u001b[27;4H\u001b[38;5;8;49m 4990622 Feb 14, 2011 \u001b[38;5;2;49m   125 \u001b[38;5;8;49m  70.5K    4 \u001b[39;49mHow\u001b[27;50Hto\u001b[27;53Hcreate\u001b[27;60Ha\u001b[27;62Htemporary\u001b[27;72Hfunction\u001b[27;81Hin\u001b[27;84HPostgreSQL?\u001b[28;4H\u001b[38;5;8;49m 7364969 Sep 09, 2011 \u001b[38;5;2;49m   113 \u001b[38;5;8;49m  29.5K \u001b[38;5;2;49m  13 \u001b[39;49mHow\u001b[28;50Hto\u001b[28;53Hfilter\u001b[28;60HSQL\u001b[28;64Hresults\u001b[28;72Hin\u001b[28;75Ha\u001b[28;77Hhas-many-through\u001b[28;94Hrelation\u001b[29;4H\u001b[38;5;8;49m 4547672 Dec 28, 2010 \u001b[38;5;2;49m   110 \u001b[38;5;8;49m 253.9K \u001b[38;5;2;49m   7 \u001b[39;49mReturn\u001b[29;53Hmultiple\u001b[29;62Hfields\u001b[29;69Has\u001b[29;72Ha\u001b[29;74Hrecord\u001b[29;81Hin\u001b[29;84HPostgreSQL\u001b[29;95Hwith\u001b[29;100HPL/pgSQL\u001b[30;4H\u001b[38;5;8;49m28975517 Mar 10, 2015 \u001b[38;5;2;49m   107 \u001b[38;5;8;49m  62.9K \u001b[38;5;2;49m   1 \u001b[39;49mDifference\u001b[30;57Hbetween\u001b[30;65HGiST\u001b[30;70Hand\u001b[30;74HGIN\u001b[30;78Hindexes\u001b[31;4H\u001b[38;5;8;49m 2966524 Jun 03, 2010 \u001b[38;5;2;49m   107 \u001b[38;5;8;49m  55.5K \u001b[38;5;2;49m   5 \u001b[39;49mCalculating\u001b[31;58Hand\u001b[31;62Hsaving\u001b[31;69Hspace\u001b[31;75Hin\u001b[31;78HPostgreSQL\u001b[32;4H\u001b[38;5;8;49m 2436820 Mar 13, 2010 \u001b[38;5;2;49m   101 \u001b[38;5;8;49m 473.4K \u001b[38;5;2;49m  12 \u001b[39;49mCan\u001b[32;50HI\u001b[32;52Hdo\u001b[32;55Ha\u001b[32;57Hmax(count(*))\u001b[32;71Hin\u001b[32;74HSQL?\u001b[33;4H\u001b[38;5;8;49m  156114 Oct 01, 2008 \u001b[38;5;2;49m    97 \u001b[38;5;8;49m  68.3K \u001b[38;5;2;49m   5 \u001b[39;49mBest\u001b[33;51Hway\u001b[33;55Hto\u001b[33;58Hget\u001b[33;62Hresult\u001b[33;69Hcount\u001b[33;75Hbefore\u001b[33;82HLIMIT\u001b[33;88Hwas\u001b[33;92Happlied\u001b[34;4H\u001b[38;5;8;49m 4088532 Nov 03, 2010 \u001b[38;5;2;49m    95 \u001b[38;5;8;49m  46.5K \u001b[38;5;2;49m   5 \u001b[39;49mCustom\u001b[34;53HORDER\u001b[34;59HBY\u001b[34;62HExplanation\u001b[35;4H\u001b[38;5;8;49m29419993 Apr 02, 2015 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m 111.3K \u001b[38;5;2;49m   3 \u001b[39;49mSplit\u001b[35;52Hcolumn\u001b[35;59Hinto\u001b[35;64Hmultiple\u001b[35;73Hrows\u001b[35;78Hin\u001b[35;81HPostgres\u001b[36;4H\u001b[38;5;8;49m 1746213 Nov 17, 2009 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m  92.8K \u001b["]
[0.146507, "o", "38;5;2;49m  16 \u001b[39;49mHow\u001b[36;50Hto\u001b[36;53Hdelete\u001b[36;60Hduplicate\u001b[36;70Hentries?\u001b[37;4H\u001b[38;5;8;49m 1113277 Jul 11, 2009 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m  67.4K    9 \u001b[39;49mHow\u001b[37;50Hdo\u001b[37;53HI\u001b[37;55Hdo\u001b[37;58Hlarge\u001b[37;64Hnon-blocking\u001b[37;77Hupdates\u001b[37;85Hin\u001b[37;88HPostgreSQL?\u001b[38;4H\u001b[38;5;8;49m26769454 Nov 05, 2014 \u001b[38;5;2;49m    89 \u001b[38;5;8;49m 114.0K \u001b[38;5;2;49m  10 \u001b[39;49mHow\u001b[38;50Hto\u001b[38;53Hdelete\u001b[38;60Hduplicate\u001b[38;70Hrows\u001b[38;75Hwithout\u001b[38;83Hunique\u001b[38;90Hidentifier\u001b[39;4H\u001b[38;5;8;49m 3862648 Oct 05, 2010 \u001b[38;5;2;49m    87 \u001b[38;5;8;49m 233.1K    7 \u001b[39;49mHow\u001b[39;50Hto\u001b[39;53Huse\u001b[39;57H(install)\u001b[39;67Hdblink\u001b[39;74Hin\u001b[39;77HPostgreSQL?\u001b[40;4H\u001b[38;5;8;49m 7299342 Sep 04, 2011 \u001b[38;5;2;49m    85 \u001b[38;5;8;49m  41.6K \u001b[38;5;2;49m   5 \u001b[39;49mWhat\u001b[40;51His\u001b[40;54Hthe\u001b[40;58Hfastest\u001b[40;66Hway\u001b[40;70Hto\u001b[40;73Htruncate\u001b[40;82Htimestamps\u001b[40;93Hto\u001b[40;96H5\u001b[40;98Hminutes\u001b[40;106Hin\u001b[40;109HPostgres?\u001b[41;4H\u001b[38;5;8;49m36075918 Mar 18, 2016 \u001b[38;5;2;49m    80 \u001b[38;5;8;49m  80.4K \u001b[38;5;2;49m   1 \u001b[39;49mPostgreSQL\u001b[41;57HIndex\u001b[41;63Hon\u001b[41;66HJSON\u001b[42;1H\u001b[38;5;0;48;5;8m j/k:move  Space/Ctrl-d/u:page  1-5:sort  /:title  ?:semantic  q:quit                                                                                                     1/3794 0%\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.163605, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.180685, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.197316, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.213983, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.230697, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.247642, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.26452, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.281827, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.298819, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.315964, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.333784, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.350805, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.36803, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.385573, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.40325, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.421144, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.43874, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.457438, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.475938, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.495596, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.511911, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.531177, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.550756, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.57078, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.589319, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.606875, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.623937, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.641016, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.657992, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.675131, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.692239, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.709544, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.727221, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.745823, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.763976, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.786074, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.803976, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.827306, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.844646, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.866564, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.883533, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.900748, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.91821, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.935665, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.953953, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.972375, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[0.992308, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.011689, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.031542, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.050277, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.068214, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.086148, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.10679, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.126781, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.14652, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.164161, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.181931, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.199232, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.216503, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.233492, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.250397, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.267686, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.285643, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.303265, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.320863, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.339367, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.358377, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.379246, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.401781, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.422247, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.439697, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.459278, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.479412, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.497224, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.514874, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.532319, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.550791, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.570769, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.588321, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.606559, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.627851, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.647947, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.665134, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.685324, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.705498, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.724798, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.744972, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.76336, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.781779, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.800619, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.817939, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.835108, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.853063, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.870224, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.887444, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.904619, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.92188, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.939099, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.956753, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.975495, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[1.995146, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.012085, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.029152, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.046667, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.064524, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.082912, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.101169, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.118779, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.13677, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.154612, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.174577, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.193499, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.213126, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.233479, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.250528, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.268681, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.286511, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.304455, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.321756, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.339466, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.357385, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.378949, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.397689, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.415416, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.432208, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.449547, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.466632, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.48452, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.502131, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.582179, "o", "\u001b[1;2H\u001b[1m\u001b[38;5;15;48;5;4mQuestion #3800551       \u001b[1;167HSO\u001b[1;170H·\u001b[1;172HCC\u001b[1;175HBY-SA\u001b[22m\u001b[39;49m \u001b[2;1H \u001b[1m\u001b[38;5;3;49mSelect first row in each GROUP BY group?\u001b[22m\u001b[39;49m          \u001b[3;1H \u001b[2m\u001b[38;5;6;49mstackoverflow.com/questions/3800551\u001b[22m\u001b[39;49m                                                 \u001b[4;2HAsked by David Wolever on Sep 27, 2010  |  2071\u001b[4;50Hv\u001b[4;52Htes  |\u001b[4;59H 1.9M views  \u001b[4;73H       \u001b[4;81H   \u001b[4;85H        \u001b[4;94H    \u001b[4;99H  \u001b[4;102H     \u001b[4;108H   \u001b[4;112H  \u001b[4;115H     \u001b[5;4H                                             \u001b[5;50H  \u001b[5;53H \u001b[5;55H   \u001b[5;59H   \u001b[5;63H  \u001b[5;66H      \u001b[5;73H        \u001b[5;82H  \u001b[5;85H        \u001b[5;94H        \u001b[6;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b[39;49m    \u001b[6;67H    \u001b[6;72H  \u001b[6;75H        \u001b[6;84H  \u001b[6;87H           \u001b[7;4H                                              \u001b[7;51H  \u001b[7;54H   \u001b[7;58H          \u001b[7;69H       \u001b[7;77H       \u001b[7;85H    \u001b[7;90H   \u001b[7;94H \u001b[7;96H        \u001b[7;105H  \u001b[7;108H           \u001b[8;2H\u001b[1m\u001b[38;5;5;49mQUESTION\u001b[22m\u001b[39;49m                                      \u001b[8;49H  \u001b[8;52H   \u001b[8;56H        \u001b[8;65H  \u001b[8;68H          \u001b[9;4H                                                    \u001b[9;57H      \u001b[9;64H     \u001b[9;70H  \u001b[9;73H   \u001b[9;77H      \u001b[10;2HI'd like to select the first row of each set \u001b[10;48Hf rows grouped with a `GROUP\u001b[10;77HBY`.\u001b[11;4H                                             \u001b[11;50H \u001b[11;52H     \u001b[11;58H    \u001b[11;63H \u001b[11;65H            \u001b[11;78H   \u001b[11;82H    \u001b[11;87H   \u001b[11;91H   \u001b[11;95H     \u001b[11;101H      \u001b[11;108H  \u001b[11;111H    \u001b[12;2HSpecifically, if I've got a `purchases` table that\u001b[12;53Hlooks like this:         \u001b[12;79H  \u001b[12;82H       \u001b[12;90H  \u001b[12;93H    \u001b[12;98H     \u001b[13;4H                                               \u001b[13;52H  \u001b[13;55H   \u001b[13;59H  \u001b[13;62H     \u001b[13;68H    \u001b[14;4H  \u001b[38;2;180;142;173;49mSELECT\u001b[38;2;192;197;206;49m * \u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m purchases;\u001b[39;49m                   \u001b[14;50H          \u001b[14;61H     \u001b[14;67H     \u001b[14;73H        \u001b[15;4H                                                    \u001b[15;57H   \u001b[15;61H      \u001b[15;68H  \u001b[15;71H \u001b[15;73H        \u001b[15;82H        \u001b[16;2H**My Output:**                                 \u001b[16;50H      \u001b[16;57H      \u001b[16;64H  \u001b[16;67H   \u001b[16;71H     \u001b[16;77H    \u001b[16;82H      \u001b[16;89H  \u001b[16;92H       \u001b[16;100H   \u001b[17;4H                                                \u001b[17;53H         \u001b[17;63H    \u001b[17;68H    \u001b[17;73H     \u001b[17;79H     \u001b[18;2H──┬────────┬─────                               \u001b[18;51H   \u001b[18;55H   \u001b[18;59H    \u001b[18;64H   \u001b[18;68H    \u001b[18;73H  \u001b[18;76H          \u001b[18;87H            \u001b[18;100H  \u001b[18;103H   \u001b[18;107H   \u001b[18;111H  \u001b[18;114H    \u001b[18;119H           \u001b[19;2Hid│customer│total                              \u001b[19;50H  \u001b[19;53H      \u001b[19;60H \u001b[19;62H        \u001b[19;71H     \u001b[19;77H  \u001b[19;80H   \u001b[19;84H      \u001b[19;91H             \u001b[20;2H──┼────────┼─────                              \u001b[20;50H        \u001b[20;59H               \u001b[20;75H  \u001b[20;78H  \u001b[20;81H        \u001b[20;90H      \u001b[21;2H1\u001b[21;4H│Joe     │5                                  \u001b[21;50H  \u001b[21;53H \u001b[21;55H    \u001b[21;60H \u001b[21;62H      \u001b[21;69H  \u001b[21;72H       \u001b[21;80H   \u001b[21;84H    \u001b[21;89H \u001b[21;91H  \u001b[21;94H    \u001b[21;99H  \u001b[21;102H     \u001b[21;108H  \u001b[21;111H   \u001b[21;115H    \u001b[21;120H    \u001b[21;125H           \u001b[22;2H──┼────────┼─────                                     \u001b[22;57H    \u001b[22;62H     \u001b[22;68H           \u001b[22;80H          \u001b[23;2H2\u001b[23;4H│Sally   │3                                   \u001b[23;51H    \u001b[23;56H      \u001b[23;63H  \u001b[23;66H   \u001b[23;70H   \u001b[23;74H  \u001b[23;77H \u001b[23;79H     \u001b[24;2H──┼────────┼─────                                 \u001b[24;53H    \u001b[24;58H          \u001b[24;69H     \u001b[24;75H      \u001b[24;82H       \u001b[24;90H  \u001b[24;93H       \u001b[24;101H       \u001b[24;109H    \u001b[24;114H       \u001b[24;122H      \u001b[24;129"]
[2.582225, "o", "H  \u001b[24;132H   \u001b[25;2H3\u001b[25;4H│Joe     │2                                  \u001b[25;50H  \u001b[25;53H   \u001b[25;57H        \u001b[25;66H    \u001b[25;71H  \u001b[25;74H \u001b[25;76H      \u001b[25;83H   \u001b[25;87H      \u001b[26;2H──┼────────┼─────                             \u001b[26;49H      \u001b[26;56H    \u001b[26;61H    \u001b[26;66H  \u001b[26;69H  \u001b[26;72H    \u001b[27;2H4\u001b[27;4H│Sally   │1                                  \u001b[27;50H  \u001b[27;53H      \u001b[27;60H \u001b[27;62H         \u001b[27;72H        \u001b[27;81H  \u001b[27;84H           \u001b[28;2H──┴────────┴─────                              \u001b[28;50H  \u001b[28;53H      \u001b[28;60H   \u001b[28;64H       \u001b[28;72H  \u001b[28;75H \u001b[28;77H                \u001b[28;94H        \u001b[29;4H                                                \u001b[29;53H        \u001b[29;62H      \u001b[29;69H  \u001b[29;72H \u001b[29;74H      \u001b[29;81H  \u001b[29;84H          \u001b[29;95H    \u001b[29;100H        \u001b[30;2HI'd like to query for the `id` of the largest purchas\u001b[30;57H(`\u001b[30;60Hotal`) made by each `customer`.\u001b[31;2HSomething like this:                                   \u001b[31;58H   \u001b[31;62H      \u001b[31;69H     \u001b[31;75H  \u001b[31;78H          \u001b[32;4H                                             \u001b[32;50H \u001b[32;52H  \u001b[32;55H \u001b[32;57H             \u001b[32;71H  \u001b[32;74H    \u001b[33;4H  \u001b[38;2;180;142;173;49mSELECT\u001b[38;2;192;197;206;49m FIRST(id), customer, FIRST(total)\u001b[39;49m    \u001b[33;51H   \u001b[33;55H  \u001b[33;58H   \u001b[33;62H      \u001b[33;69H     \u001b[33;75H      \u001b[33;82H     \u001b[33;88H   \u001b[33;92H       \u001b[34;4H  \u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m  purchases\u001b[39;49m                               \u001b[34;53H     \u001b[34;59H  \u001b[34;62H           \u001b[35;4H  \u001b[38;2;180;142;173;49mGROUP BY\u001b[38;2;192;197;206;49m customer\u001b[39;49m                            \u001b[35;52H      \u001b[35;59H    \u001b[35;64H        \u001b[35;73H    \u001b[35;78H  \u001b[35;81H        \u001b[36;4H  \u001b[38;2;180;142;173;49mORDER BY\u001b[38;2;192;197;206;49m total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m;\u001b[39;49m                       \u001b[36;50H  \u001b[36;53H      \u001b[36;60H         \u001b[36;70H        \u001b[37;4H                                             \u001b[37;50H  \u001b[37;53H \u001b[37;55H  \u001b[37;58H     \u001b[37;64H            \u001b[37;77H       \u001b[37;85H  \u001b[37;88H           \u001b[38;2H**Expected Output:**                           \u001b[38;50H  \u001b[38;53H      \u001b[38;60H         \u001b[38;70H    \u001b[38;75H       \u001b[38;83H      \u001b[38;90H          \u001b[39;4H                                             \u001b[39;50H  \u001b[39;53H   \u001b[39;57H         \u001b[39;67H      \u001b[39;74H  \u001b[39;77H           \u001b[40;2H─────────┬────────┬────────────                 \u001b[40;51H  \u001b[40;54H   \u001b[40;58H       \u001b[40;66H   \u001b[40;70H  \u001b[40;73H        \u001b[40;82H          \u001b[40;93H  \u001b[40;96H \u001b[40;98H       \u001b[40;106H  \u001b[40;109H         \u001b[41;2HFIRST(id)│customer│FIRST(total)                       \u001b[41;57H     \u001b[41;63H  \u001b[41;66H    \u001b[42;6H\u001b[38;5;0;48;5;8mscroll  e:Erwin  Tab\u001b[42;27Hlinks\u001b[42;33H o:br\u001b[42;39Hwser  b/q:back         \u001b[42;64H      \u001b[42;171H      \u001b[42;178H   \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.598938, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.615571, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.631896, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.649227, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.66655, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.683749, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.701303, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.717892, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.735233, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.752743, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.769733, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.786825, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.804288, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.822054, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.839436, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.857238, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.875202, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.893377, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.913332, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.935854, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.952695, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.971061, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[2.987965, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.005173, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.02188, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.038419, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.054963, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.071515, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.08911, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.106688, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.123341, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.140126, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.157027, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.174724, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.192625, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.208912, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.225735, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.242615, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.26031, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.293082, "o", "\u001b[1;91H\u001b[1m\u001b[38;5;0;48;5;3m ◆ Erwin's Answer 1/2                                                     SO · CC BY-SA\u001b[22m\u001b[39;49m  \u001b[2;92H\u001b[38;5;3;49m│\u001b[1mANSWER  (+1849 votes)\u001b[3;92H\u001b[22m│\u001b[38;5;15;49mby Erwin Brandstetter (669.5K rep)\u001b[4;92H\u001b[38;5;3;49m│\u001b[5;92H│\u001b[4m\u001b[38;5;6;49m[DISTINCT ON]\u001b[24m\u001b[38;5;8;49m[1]\u001b[5;110H\u001b[39;49mis\u001b[5;113Htypically\u001b[5;123Hsimplest\u001b[5;132Hand\u001b[5;136Hfastest\u001b[5;144Hfor\u001b[5;148Hthis\u001b[5;153Hin\u001b[5;156H**PostgreSQL**.\u001b[6;92H\u001b[38;5;3;49m│\u001b[39;49m(For\u001b[6;98Hperformance\u001b[6;110Hoptimization\u001b[6;123Hfor\u001b[6;127Hcertain\u001b[6;135Hworkloads\u001b[6;145Hsee\u001b[6;149Hbelow.)\u001b[7;92H\u001b[38;5;3;49m│\u001b[8;92H│\u001b[8;97H\u001b[38;2;180;142;173;49mSELECT DISTINCT\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m (customer)\u001b[9;92H\u001b[38;5;3;49m│\u001b[9;97H\u001b[38;2;192;197;206;49m       id, customer, total\u001b[10;92H\u001b[38;5;3;49m│\u001b[10;97H\u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m   purchases\u001b[11;92H\u001b[38;5;3;49m│\u001b[11;97H\u001b[38;2;192;197;206;49mORDER  BY customer, total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m, id;\u001b[12;92H\u001b[38;5;3;49m│\u001b[13;92H│\u001b[39;49mOr\u001b[13;96Hshorter\u001b[13;104H(if\u001b[13;108Hnot\u001b[13;112Has\u001b[13;115Hclear)\u001b[13;122Hwith\u001b[13;127Hordinal\u001b[13;135Hnumbers\u001b[13;143Hof\u001b[13;146Houtput\u001b[13;153Hcolumns:\u001b[14;92H\u001b[38;5;3;49m│\u001b[15;92H│\u001b[15;97H\u001b[38;2;180;142;173;49mSELECT DISTINCT\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m (\u001b[38;2;208;135;112;49m2\u001b[38;2;192;197;206;49m)\u001b[16;92H\u001b[38;5;3;49m│\u001b[16;97H\u001b[38;2;192;197;206;49m       id, customer, total\u001b[17;92H\u001b[38;5;3;49m│\u001b[17;97H\u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m   purchases\u001b[18;92H\u001b[38;5;3;49m│\u001b[18;97H\u001b[38;2;192;197;206;49mORDER  BY \u001b[38;2;208;135;112;49m2\u001b[38;2;192;197;206;49m, \u001b[38;2;208;135;112;49m3\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m, \u001b[38;2;208;135;112;49m1\u001b[38;2;192;197;206;49m;\u001b[19;92H\u001b[38;5;3;49m│\u001b[20;92H│\u001b[39;49mIf\u001b[20;96H`total`\u001b[20;104Hcan\u001b[20;108Hbe\u001b[20;111H`null`,\u001b[20;119Hadd\u001b[20;123H`NULLS\u001b[20;130HLAST`:\u001b[21;92H\u001b[38;5;3;49m│\u001b[22;92H│\u001b[22;97H\u001b[38;2;192;197;206;49m...\u001b[23;92H\u001b[38;5;3;49m│\u001b[23;97H\u001b[38;2;192;197;206;49mORDER  BY customer, total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m NULLS LAST, id;\u001b[24;92H\u001b[38;5;3;49m│\u001b[25;92H│\u001b[39;49mWorks\u001b[25;99Heither\u001b[25;106Hway,\u001b[25;111Hbut\u001b[25;115Hyou'll\u001b[25;122Hwant\u001b[25;127Hto\u001b[25;130H\u001b[4m\u001b[38;5;6;49m[match existing indexes]\u001b[24m\u001b[38;5;8;49m[2]\u001b[26;92H\u001b[38;5;3;49m│\u001b[27;92H│\u001b[39;49m*db<>fiddle\u001b[27;105H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[1]\u001b[39;49m*\u001b[28;92H\u001b[38;5;3;49m│\u001b[29;92H│\u001b[39;49m###\u001b[29;97HMajor\u001b[29;103Hpoints\u001b[30;92H\u001b[38;5;3;49m│\u001b[31;92H│\u001b[39;49m**`DISTINCT\u001b[31;105HON`**\u001b[31;111His\u001b[31;114Ha\u001b[31;116HPostgreSQL\u001b[31;127Hextension\u001b[31;137Hof\u001b[31;140Hthe\u001b[31;144Hstandard,\u001b[31;154Hwhere\u001b[31;160Honly\u001b[31;165H`DISTINCT`\u001b[32;92H\u001b[38;5;3;49m│\u001b[39;49mon\u001b[32;96Hthe\u001b[32;100Hwhole\u001b[32;106H`SELECT`\u001b[32;115Hlist\u001b[32;120His\u001b[32;123Hdefined.\u001b[33;92H\u001b[38;5;3;49m│\u001b[34;92H│\u001b[39;49mList\u001b[34;98Hany\u001b[34;102Hnumber\u001b[34;109Hof\u001b[34;112Hexpressions\u001b[34;124Hin\u001b[34;127Hthe\u001b[34;131H`DISTINCT\u001b[34;141HON`\u001b[34;145Hclause,\u001b[34;153Hthe\u001b[34;157Hcombined\u001b[34;166Hrow\u001b[34;170Hvalue\u001b[35;92H\u001b[38;5;3;49m│\u001b[39;49mdefines\u001b[35;101Hduplicates.\u001b[35;113H\u001b[4m\u001b[38;5;6;49m[The manual:]\u001b[24m\u001b[38;5;8;49m[2]\u001b[36;92H\u001b[38;5;3;49m│\u001b[37;92H│\u001b[39;49m>\u001b[37;95HObviously,\u001b[37;106Htwo\u001b[37;110Hrows\u001b[37;115Hare\u001b[37;119Hconsidered\u001b[37;130Hdistinct\u001b[37;139Hif\u001b[37;142Hthey\u001b[37;147Hdiffer\u001b[37;154Hin\u001b[37;157Hat\u001b[37;160Hleast\u001b[37;166Hone\u001b[37;170Hcolumn\u001b[38;92H\u001b[38;5;3;49m│\u001b[39;49m>\u001b[38;95Hvalue.\u001b[38;102H**Null\u001b[38;109Hvalues\u001b[38;116Hare\u001b[38;120Hconsidered\u001b[38;131Hequal\u001b[38;137Hin\u001b[38;140Hthis\u001b[38;145Hcomparison.**\u001b[39;92H\u001b[38;5;3;49m│\u001b[40;92H│\u001b[39;49mBold\u001b[40;98Hemphasis\u001b[40;107Hmine.\u001b[41;92H\u001b[38;5;3;49m│\u001b[42;15H\u001b[38;5;0;48;5;8m/\u001b[42;17H:Erwin  Tab:links  o:browser  b/q:back\u001b[42;57H[Erwin]\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.309873, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.326485, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.343293, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.359977, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.37675, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.393598, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.410492, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.427444, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.44444, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.461614, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.47895, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.4976, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.514796, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.533211, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.551531, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.570428, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.589168, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.60806, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.625627, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.643283, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.660087, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.676753, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.693529, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.710666, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.727319, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.744386, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.761683, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.779106, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.796235, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.813303, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.830375, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.846954, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.864148, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.881196, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.89826, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.915261, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.932131, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.949129, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.965644, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.982104, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[3.998913, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.015504, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.032088, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.049842, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.068372, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.086009, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.105366, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.123881, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.141419, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.158744, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.177343, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.195968, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.214555, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.231512, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.248445, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.265334, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.282029, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.299163, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.31663, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.333318, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.350212, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.367342, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.385082, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.402123, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.420011, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.437341, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.454934, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.474004, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.493216, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.510644, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.527847, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.545065, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.562495, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.58037, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.598449, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.617762, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.636473, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.654497, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.673455, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.690405, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.707563, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.724708, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.742486, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.760748, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.779184, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.797918, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.816596, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.833739, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.851501, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.868391, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.885513, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.902802, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.919545, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.936858, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.953741, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.971133, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[4.989179, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.006453, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.023457, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.041847, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.059659, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.078798, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.097947, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.114779, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.131642, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.148867, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.165767, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.18352, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.200664, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.217697, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.2185, "o", "\u001b[5;93H\u001b[38;5;0;48;5;6m[DISTINCT ON][1]\u001b[42;2H\u001b[38;5;0;48;5;8mTab o:open\u001b[42;13HEsc \u001b[38;5;15;48;5;8m[1/23] \u001b[38;5;6;48;5;8mhttps://www.postgresql.org/docs/current/sql-select.html#SQL-DISTINCT                                                                                         \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.235755, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.252576, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.269394, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.287091, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.304616, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.321271, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.338327, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.355679, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.373135, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.390809, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.409956, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.433257, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.450016, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.466986, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.483818, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.501204, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.51785, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.534581, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.552234, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.570047, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.587553, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.605664, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.623198, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.640726, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.658139, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.659128, "o", "\u001b[5;93H\u001b[4m\u001b[38;5;6;49m[DISTINCT ON]\u001b[24m\u001b[38;5;8;49m[1]\u001b[25;130H\u001b[38;5;0;48;5;6m[match existing indexes][2]\u001b[42;18H\u001b[38;5;15;48;5;8m2\u001b[42;32H\u001b[38;5;6;48;5;8mdba\u001b[42;36Hstackexchange.com/q\u001b[42;56H254731/3684                         \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.676507, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.693948, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.711182, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.727907, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.744968, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.761929, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.779244, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.796973, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.814869, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.832509, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.849753, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.867149, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.884862, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.902086, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.919936, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.937954, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.957174, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.976675, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[5.995557, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.01657, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.034867, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.052232, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.069339, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.08724, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.09499, "o", "\u001b[2;93H`DISTINCT ON` can be combined\u001b[2;123Hwith\u001b[2;128H**`ORDER\u001b[2;137HBY`**.\u001b[2;144HLeading\u001b[2;152Hexpressions\u001b[2;164Hin\u001b[2;167H`ORDER\u001b[2;174HBY`\u001b[3;93Hmust be in the set of expressions in\u001b[3;130H`DISTINCT\u001b[3;140HON`,\u001b[3;145Hbut\u001b[3;149Hyou\u001b[3;153Hcan\u001b[3;157Hrearrange\u001b[3;167Horder\u001b[4;93Hamong\u001b[4;99Hthose\u001b[4;105Hfreely.\u001b[4;113H\u001b[4m\u001b[38;5;6;49m[Example.]\u001b[24m\u001b[38;5;8;49m[5]\u001b[5;93H\u001b[39;49mYou can add *additional* expre\u001b[5;124Hsions \u001b[5;131Ho `ORDER BY`\u001b[5;144Ht\u001b[5;146H pick a particula\u001b[5;164H row from\u001b[6;93Heach\u001b[6;98Hgroup of p\u001b[6;109Hers. Or, as \u001b[4m\u001b[38;5;6;49m[the manual puts it]\u001b[24m\u001b[38;5;8;49m[3]\u001b[39;49m:   \u001b[6;149H       \u001b[8;93H>\u001b[8;95HThe `DISTINCT ON` expression(s)\u001b[8;127Hmust\u001b[8;132Hmatch\u001b[8;138Hthe\u001b[8;142Hleftmost\u001b[8;151H`ORDER\u001b[8;158HBY`\u001b[8;162Hexpression(s).\u001b[9;93H>\u001b[9;95HThe `ORDER BY` clause will normally\u001b[9;131Hcontain\u001b[9;139Hadditional\u001b[9;150Hexpression(s)\u001b[9;164Hthat\u001b[10;93H>\u001b[10;95Hdetermine the desired\u001b[10;117Hprecedence\u001b[10;128Hof\u001b[10;131Hrows\u001b[10;136Hwithin\u001b[10;143Heach\u001b[10;148H`DISTINCT\u001b[10;158HON`\u001b[10;162Hgroup.\u001b[11;97H                                   \u001b[12;93HI\u001b[12;95Hadded\u001b[12;101H`id`\u001b[12;106Has\u001b[12;109Hlast\u001b[12;114Hitem\u001b[12;119Hto\u001b[12;122Hbreak\u001b[12;128Hties:\u001b[13;93H*\"Pick \u001b[13;101Hhe\u001b[13;104Hrow\u001b[13;108Hwi\u001b[13;111Hh the smalles\u001b[13;125H `id` from each gr\u001b[13;144Hup sharing the highest\u001b[13;167H`total`.\"*\u001b[15;93HTo\u001b[15;96Horder results in a way that\u001b[15;124Hdisagrees\u001b[15;134Hwith\u001b[15;139Hthe\u001b[15;143Hsort\u001b[15;148Horder\u001b[15;154Hdetermining\u001b[15;166Hthe\u001b[15;170Hfirst\u001b[16;93Hper\u001b[16;97Hgroup, you can nest above query\u001b[16;129Hin\u001b[16;132Han\u001b[16;135Houter\u001b[16;141Hquery\u001b[16;147Hwith\u001b[16;152Hanother\u001b[16;160H`ORDER\u001b[16;167HBY`.\u001b[17;93H\u001b[4m\u001b[38;5;6;49m[Example.]\u001b[24m\u001b[38;5;8;49m[7]\u001b[39;49m       \u001b[18;97H                       \u001b[19;93HIf\u001b[19;96H`total`\u001b[19;104Hcan\u001b[19;108Hbe\u001b[19;111H`null`,\u001b[19;119Hyou\u001b[19;123H*most\u001b[19;129Hprobably*\u001b[19;139Hwant\u001b[19;144Hthe\u001b[19;148Hrow\u001b[19;152Hwith\u001b[19;157Hthe\u001b[19;161Hgreatest\u001b[20;93Hnon-null value. Add **`NULLS LAST`**\u001b[20;130Hlike demonstrated.\u001b[20;149HSee:\u001b[21;93H*\u001b[21;95H\u001b[4m\u001b[38;5;6;49m[Sort by column ASC, but NULL values first?]\u001b[24m\u001b[38;5;8;49m[8]\u001b[22;97H\u001b[39;49m   \u001b[23;93H**The `SELECT` list** is not constrained by expressions\u001b[23;149Hin\u001b[23;152H`DISTINCT\u001b[23;162HON`\u001b[23;166Hor\u001b[23;169H`ORDER\u001b[24;93HBY`\u001b[24;97Hin\u001b[24;100Hany\u001b[24;104Hway:\u001b[25;93H* You\u001b[25;99H*don't\u001b[25;106Hh\u001b[25;108Hve\u001b[25;111Hto*\u001b[25;115Hinclude \u001b[25;125Hy\u001b[25;127Hof\u001b[25;130Hthe expressions in `DISTINCT\u001b[25;159HON`\u001b[25;163Hor\u001b[25;166H`ORDER\u001b[25;173HBY`.\u001b[26;93H*\u001b[26;95HYou\u001b[26;99H*can*\u001b[26;105Hinclude\u001b[26;113Hany\u001b[26;117Hother\u001b[26;123Hexpression\u001b[26;134Hin\u001b[26;137Hthe\u001b[26;141H`SELECT`\u001b[26;150Hlist.\u001b[26;156HThis\u001b[26;161His\u001b[26;164Hinstrumental\u001b[27;93H  for rep\u001b[27;103Hacing complex\u001b[27;117Hsubqueries\u001b[27;128Hand\u001b[27;132Haggregate\u001b[27;142H/\u001b[27;144Hwindow\u001b[27;151Hfunctions.\u001b[29;93HI tested with Postgres\u001b[29;116Hversions\u001b[29;125H8.3\u001b[29;129H–\u001b[29;131H17.\u001b[29;135HBut\u001b[29;139Hthe\u001b[29;143Hfeature\u001b[29;151Hhas\u001b[29;155Hbeen\u001b[29;160Hthere\u001b[29;166Hat\u001b[29;169Hleast\u001b[30;93Hsince\u001b[30;99Hversion\u001b[30;107H7.1,\u001b[30;112Hso\u001b[30;115Hbasically\u001b[30;125Halways.\u001b[31;93H           \u001b[31;105H     \u001b[31;111H  \u001b[31;114H \u001b[31;116H          \u001b[31;127H         \u001b[31;137H  \u001b[31;140H   \u001b[31;144H         \u001b[31;154H     \u001b[31;160H    \u001b[31;165H          \u001b[32;93H##\u001b[32;96HIndex    \u001b[32;106H        \u001b[32;115H    \u001b[32;120H  \u001b[32;123H        \u001b[34;93HThe *perfect* index fo\u001b[34;116H the above\u001b[34;127Hqu\u001b[34;130Hry would be a \u001b[4m\u001b[38;5;6;49m[multi-column index]\u001b[24m\u001b[38;5;8;49m[4]\u001b[39;49m spanning\u001b[35;93Hall three columns in matching sequence\u001b[35;132Hand\u001b[35;136Hwith\u001b[35;141Hmatching\u001b[35;150Hsort\u001b[35;155Horder:\u001b[37;93H \u001b[37;95H  \u001b[38;2;180;142;173;49mCREATE\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mINDEX\u001b[38;2;192;197;206;49m \u001b[38;2;143;161;179;49mpurchases_3c_idx\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m purchases (customer, total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m, id);\u001b[39;49m  \u001b[37;170H      \u001b[38;93H \u001b[38;95H      \u001b[38;102H      \u001b[38;109H      \u001b[38;116H   \u001b[38;120H          \u001b[38;131H     \u001b[38;137H "]
[6.095124, "o", " \u001b[38;140H    \u001b[38;145H             \u001b[39;93HMay\u001b[39;97Hbe\u001b[39;100Htoo\u001b[39;104Hspecialized.\u001b[39;117HBut\u001b[39;121Huse\u001b[39;125Hit\u001b[39;128Hif\u001b[39;131Hread\u001b[39;136Hperformance\u001b[39;148Hfor\u001b[39;152Hthe\u001b[39;156Hparticular\u001b[39;167Hquery\u001b[39;173His\u001b[40;93Hcrucial. If you have\u001b[40;114H`DESC\u001b[40;120HNULLS\u001b[40;126HLAST`\u001b[40;132Hin\u001b[40;135Hthe\u001b[40;139Hquery,\u001b[40;146Huse\u001b[40;150Hthe\u001b[40;154Hsame\u001b[40;159Hin\u001b[40;162Hthe\u001b[40;166Hindex\u001b[40;172Hso\u001b[41;93Hthat\u001b[41;98Hsort\u001b[41;103Horder\u001b[41;109Hmatches\u001b[41;117Hand\u001b[41;121Hthe\u001b[41;125Hindex\u001b[41;131His\u001b[41;134Hperfectly\u001b[41;144Happlicable.\u001b[42;2H\u001b[38;5;0;48;5;8mj/k:scroll\u001b[42;13H e/E:Erwin  Tab:links  o:browser  b/q:back  [Erwin]                                                                                                                     \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.112206, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.129175, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.145862, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.162671, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.179988, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.196883, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.214044, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.231312, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.248737, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.265777, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.283497, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.302917, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.321965, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.341229, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.357997, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.375332, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.392633, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.410774, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.427752, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.444688, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.465088, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.483762, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.502909, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.520158, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.537519, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.556435, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.576259, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.596109, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.614892, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.631891, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.649584, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.659227, "o", "\u001b[2;93H         \u001b[2;103H   \u001b[2;107H   \u001b[2;111H  \u001b[2;114H        \u001b[2;123H    \u001b[2;128H        \u001b[2;137H      \u001b[2;144H       \u001b[2;152H           \u001b[2;164H  \u001b[2;167H      \u001b[2;174H   \u001b[3;93H## Eff\u001b[3;100Hctiven\u001b[3;107Hs\u001b[3;109H /\u001b[3;112HPerformance opt\u001b[3;128Hmization   \u001b[3;140H    \u001b[3;145H   \u001b[3;149H   \u001b[3;153H   \u001b[3;157H         \u001b[3;167H     \u001b[4;93H     \u001b[4;99H     \u001b[4;105H       \u001b[4;113H             \u001b[5;93H*Exiti\u001b[5;100Hg news for **Postgres 18** (Be\u001b[5;131Ha\u001b[5;133H1 released\u001b[5;144H2025-05-08). **Index\u001b[5;165Hskip scan**\u001b[6;93Hh\u001b[6;95Hs been implem\u001b[6;109Hnted. \u001b[4m\u001b[38;5;6;49m[The release \u001b[6;129Hotes:]\u001b[24m\u001b[38;5;8;49m[5]\u001b[39;49m*      \u001b[8;95H* Allow skip scans of btree indexe\u001b[8;130H (Pe\u001b[8;135Her\u001b[8;138HGeogh\u001b[8;144Hgan)  \u001b[8;151H      \u001b[8;158H   \u001b[8;162H              \u001b[9;95H   \u001b[9;99H      \u001b[9;106H   \u001b[9;110H      \u001b[9;117H    \u001b[9;122H        \u001b[9;131H       \u001b[9;139H          \u001b[9;150H             \u001b[9;164H    \u001b[10;95H  This is\u001b[10;105Heffective if the earlier non-referenced \u001b[10;146Holumns contain few \u001b[10;166Hnique\u001b[11;93H>\u001b[11;97Hvalues.\u001b[12;93H \u001b[12;95H     \u001b[12;101H    \u001b[12;106H  \u001b[12;109H    \u001b[12;114H    \u001b[12;119H  \u001b[12;122H     \u001b[12;128H     \u001b[13;94HTh\u001b[13;97Hs is huge.\u001b[13;108HIt makes\u001b[13;118Home of the below workarounds\u001b[13;147Hand rela\u001b[13;156Hed\u001b[13;159Hansw\u001b[13;164Hrs\u001b[13;167Hobsolete  \u001b[14;93Hgoing\u001b[14;99Hforward.\u001b[14;108HI'll\u001b[14;113Hupdate\u001b[14;120Hhere\u001b[14;125Honce\u001b[14;130HI\u001b[14;132Hhave\u001b[14;137Hfound\u001b[14;143Hthe\u001b[14;147Htime\u001b[14;152Hto\u001b[14;155Htest.*\u001b[15;93H  \u001b[15;96H     \u001b[15;102H       \u001b[15;110H  \u001b[15;113H \u001b[15;115H   \u001b[15;119H    \u001b[15;124H         \u001b[15;134H    \u001b[15;139H   \u001b[15;143H    \u001b[15;148H     \u001b[15;154H           \u001b[15;166H   \u001b[15;170H     \u001b[16;93HW\u001b[16;95High cost\u001b[16;104Hand\u001b[16;108Hbe\u001b[16;111Hefit bef\u001b[16;120Hr\u001b[16;123Hcr\u001b[16;126Hating\u001b[16;132Htailor\u001b[16;139Hd\u001b[16;141Hindexes for eac\u001b[16;157H query. The   \u001b[17;93Hpotential of above\u001b[17;112Hindex\u001b[17;118Hlargely\u001b[17;126Hdepends\u001b[17;134Hon\u001b[17;137H**data\u001b[17;144Hdistribution**.\u001b[19;93HThe index is used\u001b[19;111Hbecause\u001b[19;119Hit delivers pre-sorted da\u001b[19;145Ha.\u001b[19;148HIn Pos\u001b[19;155Hgres 9.2 or later\u001b[19;173Hthe\u001b[20;93Hquery can \u001b[20;105Hso benefit from an **\u001b[4m\u001b[38;5;6;49m[index only scan]\u001b[24m\u001b[38;5;8;49m[6]\u001b[39;49m**\u001b[20;149Hif the\u001b[20;156Hindex\u001b[20;162His\u001b[20;165Hsmaller\u001b[20;173Hthan\u001b[21;93Hthe underlying table. The index has to be scanned\u001b[21;143Hin\u001b[21;146Hits\u001b[21;150Hentirety,\u001b[21;160Hthough.\u001b[22;93H\u001b[4m\u001b[38;5;6;49m[Example.]\u001b[24m\u001b[38;5;8;49m[12]\u001b[23;93H\u001b[39;49m     \u001b[23;99H        \u001b[23;108H      \u001b[23;115H  \u001b[23;118H   \u001b[23;122H           \u001b[23;134H  \u001b[23;137H           \u001b[23;149H  \u001b[23;152H         \u001b[23;162H   \u001b[23;166H  \u001b[23;169H      \u001b[24;93HFor\u001b[24;97H***few* rows\u001b[24;110Hper\u001b[24;114Hcustomer**\u001b[24;125H(high\u001b[24;131Hcardinality\u001b[24;143Hin\u001b[24;146Hcolumn\u001b[24;153H`customer`),\u001b[24;166Hthis\u001b[24;171His\u001b[25;93Hvery efficient. Even more so if \u001b[25;126Hou need\u001b[25;134Hsort\u001b[25;139Hd output anyway. The benefit shrinks  \u001b[26;93Hwith a growing n\u001b[26;110Hmber of rows\u001b[26;123Hper cu\u001b[26;130Ht\u001b[26;132Hmer.\u001b[26;137H   \u001b[26;141H        \u001b[26;150H     \u001b[26;156H    \u001b[26;161H  \u001b[26;164H            \u001b[27;93HIdeally, you have enough \u001b[4m\u001b[38;5;6;49m[work_mem]\u001b[24m\u001b[38;5;8;49m[13]\u001b[39;49m to proc\u001b[27;141Hss\u001b[27;144Hthe involved sort\u001b[27;162Hstep\u001b[27;167Hin\u001b[27;170HRAM\u001b[27;174Hand\u001b[28;93Hnot\u001b[28;97Hspill\u001b[28;103Hto\u001b[28;106Hdisk.\u001b[28;112HBut\u001b[28;116Hgenerally\u001b[28;126Hsetting\u001b[28;134H`work_mem`\u001b[28;145H*too*\u001b[28;151Hhigh\u001b[28;156Hcan\u001b[28;160Hhave\u001b[28;165Hadverse\u001b[29;93Heff\u001b[29;97Hc\u001b[29;99Hs.\u001b[29;102HConsider `SET\u001b[29;116HLOCAL` for exceptionally big que\u001b[29;149Hies. Find how much you need\u001b[30;93Hw\u001b[30;95Hth `EXPLAIN\u001b[30;107HANALYZE`. Mention\u001b[30;125Hof \"*Disk:*\"\u001b[30;138Hin\u001b[30;141Hthe\u001b[30;145Hsort\u001b[30;150Hstep\u001b[30;155Hindicates\u001b[30;165Hthe\u001b[30;169Hneed\u001b[30;174Hfor\u001b[31;93Hmore:\u001b[32;93H* \u001b[4m\u001b[38;5;6;49m[Configuration parameter work_mem in PostgreSQL on Linux]\u001b[24m\u001b[38;5;8;49m[14]\u001b[33;93H\u001b[39;49m*\u001b[33;95H\u001b[4m\u001b[38;5;6;49m[Optimize simple query using ORDER BY date and text]\u001b[24m\u001b[38;5;8;49m[15]\u001b[34;93H\u001b[39;49m   \u001b[34;97H         \u001b[34;107H     \u001b[34;113H   \u001b[34;117H   "]
[6.659451, "o", "\u001b[34;121H     \u001b[34;127H     \u001b[34;133H     \u001b[34;139H  \u001b[34;142H \u001b[34;144H                       \u001b[34;168H        \u001b[35;93HFor\u001b[35;97H***many* row\u001b[35;111Hper customer** (low c\u001b[35;133Hr\u001b[35;135Hinality in column `customer`),\u001b[35;166Han\u001b[35;169H\"**index\u001b[36;93Hskip\u001b[36;98Hscan**\"\u001b[36;106Hor\u001b[36;109H\u001b[4m\u001b[38;5;6;49m[**\"loose index scan\"**]\u001b[24m\u001b[38;5;8;49m[7]\u001b[36;137H\u001b[39;49mwould\u001b[36;143Hbe\u001b[36;146H(much)\u001b[36;153Hmore\u001b[36;158Hefficient.\u001b[36;169HBut\u001b[37;93Hthat's not implemented up to Postgres 17. Serious work to implement it one\u001b[37;168Hway\u001b[37;172Hor\u001b[38;93Hanother\u001b[38;101Hhas\u001b[38;105Hbeen\u001b[38;110Hongoing\u001b[38;118Hfor\u001b[38;122Hyears\u001b[38;128Hnow,\u001b[38;133Hbut\u001b[38;137Hso\u001b[38;140Hfar\u001b[38;144Hunsuccessful.\u001b[38;158HSee\u001b[38;162H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[8]\u001b[38;172H\u001b[39;49mand\u001b[39;93H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[18]\u001b[39;49m.            \u001b[39;117H   \u001b[39;121H   \u001b[39;125H  \u001b[39;128H  \u001b[39;131H    \u001b[39;136H           \u001b[39;148H   \u001b[39;152H   \u001b[39;156H          \u001b[39;167H     \u001b[39;173H  \u001b[40;93HFor now,\u001b[40;102Hthere are **faster query techn\u001b[40;133Hques** to substitut\u001b[40;154Hfor this. In particular\u001b[41;93Hif you have a sep\u001b[41;111Hrat\u001b[41;115H t\u001b[41;118Hble \u001b[41;123Holding uniqu\u001b[41;136H cus\u001b[41;141Homers, which is\u001b[41;157Hthe\u001b[41;161Htypical\u001b[41;169Huse\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.676138, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.692888, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.710099, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.727223, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.744004, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.760681, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.777459, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.794371, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.81143, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.829282, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.846442, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.863375, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.881348, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.89974, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.91841, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.936778, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.954334, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.971725, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[6.989457, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.006616, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.02433, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.042762, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.061997, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.081951, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.100381, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.117535, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.134972, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.15252, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.172285, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.188813, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.207141, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.226486, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.243607, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.260709, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.27747, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.294207, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.297149, "o", "\u001b[2;93Hthat's\u001b[2;100Hnot\u001b[2;104Himplemented\u001b[2;116Hup\u001b[2;119Hto\u001b[2;122HPostgres\u001b[2;131H17.\u001b[2;135HSerious\u001b[2;143Hwork\u001b[2;148Hto\u001b[2;151Himplement\u001b[2;161Hit\u001b[2;164Hone\u001b[2;168Hway\u001b[2;172Hor\u001b[3;93Hanother has b\u001b[3;107Hen\u001b[3;110Hongoing for years now, but\u001b[3;137Hso\u001b[3;140Hfar\u001b[3;144Hunsuccessful.\u001b[3;158HSee\u001b[3;162H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[8]\u001b[3;172H\u001b[39;49mand\u001b[4;93H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[18]\u001b[39;49m.\u001b[5;93HFor now,\u001b[5;102Hthere a\u001b[5;110He \u001b[5;113H*faster query\u001b[5;127Htechniques** to substitute for this. In particular\u001b[6;93Hif you have a s\u001b[6;109Hparate table holding unique customers,\u001b[6;148Hwhich\u001b[6;154His\u001b[6;157Hthe\u001b[6;161Htypical\u001b[6;169Huse\u001b[7;93Hcase.\u001b[7;99HBut\u001b[7;103Halso\u001b[7;108Hif\u001b[7;111Hyou\u001b[7;115Hdon't:\u001b[8;93H*\u001b[8;96H*\u001b[4m\u001b[38;5;6;49m[Optimize GROUP BY query to retrieve latest row per user]\u001b[24m\u001b[38;5;8;49m[19]\u001b[39;49m**\u001b[9;93H*\u001b[9;95H\u001b[4m\u001b[38;5;6;49m[SELECT DISTINCT is slower than expected on my table in PostgreSQL]\u001b[24m\u001b[38;5;8;49m[20]\u001b[10;93H\u001b[39;49m*\u001b[10;95H\u001b[4m\u001b[38;5;6;"]
[7.297312, "o", "49m[Optimize groupwise maximum query]\u001b[24m\u001b[38;5;8;49m[21]\u001b[39;49m           \u001b[10;145H       \u001b[10;153H       \u001b[10;161H   \u001b[10;165H      \u001b[11;93H*\u001b[11;95H\u001b[4m\u001b[38;5;6;49m[Query last N related rows per row]\u001b[24m\u001b[38;5;8;49m[22]\u001b[13;93H\u001b[39;49m## Benchmarks \u001b[13;108H  \u001b[13;111H     \u001b[13;117H    \u001b[13;122H  \u001b[13;125H   \u001b[13;129H     \u001b[13;135H           \u001b[13;147H   \u001b[13;151H       \u001b[13;159H       \u001b[13;167H        \u001b[14;93H     \u001b[14;99H        \u001b[14;108H    \u001b[14;113H      \u001b[14;120H    \u001b[14;125H    \u001b[14;130H \u001b[14;132H    \u001b[14;137H     \u001b[14;143H   \u001b[14;147H    \u001b[14;152H  \u001b[14;155H      \u001b[15;93H\u001b[4m\u001b[38;5;6;49m[See separate answer.]\u001b[24m\u001b[38;5;8;49m[23]\u001b[16;93H\u001b[39;49m     \u001b[16;99H    \u001b[16;104H   \u001b[16;108H       \u001b[16;116H      \u001b[16;123H        \u001b[16;132H        \u001b[16;141H       \u001b[16;149H   \u001b[16;153H    \u001b[16;158H      \u001b[16;165H   \u001b[17;93H[1]: https://d\u001b[17;108Hfiddle.uk/?rdbms=postgre\u001b[17;133H_13&fi\u001b[17;140Hdle=bf589b26f6e9fe8cdf3c6ca6e045eb6d\u001b[18;93H[2]:\u001b[18;98Hhttps://www.postgresql.org/docs/current/queries-select-lists.html#QUERIES-DISTI\u001b[19;93HNCT\u001b[19;97H     \u001b[19;103H  \u001b[19;106H    \u001b[19;111H       \u001b[19;119H  \u001b[19;122H        \u001b[19;131H          \u001b[19;142H     \u001b[19;148H  \u001b[19;151H        \u001b[19;160H   \u001b[19;164H  \u001b[19;167H     \u001b[19;173H   \u001b[20;93H[3]: https://www.postgresql.org/docs/current/sql-select.html#SQL-DISTINCT      \u001b[20;173H    \u001b[21;93H[4]: https://www.postgresql.org/docs/current/i\u001b[21;140Hdexes-multicolumn.html     \u001b[22;93H[5]: https://www.postgresql.org/docs/18/release-18.html#RELEASE-18-INDEXES\u001b[23;93H[6]:\u001b[23;98Hhttps://www.postgresql.org/docs/current/indexes-index-only-scans.html\u001b[24;93H[7]: https://wiki.postgresql.org/w\u001b[24;128Hki/Loose_indexscan      \u001b[24;153H            \u001b[24;166H    \u001b[24;171H  \u001b[25;93H[8]:\u001b[25;98Hhttps://commitfest.po\u001b[25;120Htgresql.org/19/1741/\u001b[25;141H      \u001b[25;148H       \u001b[25;156H   \u001b[25;160H       \u001b[25;168H       \u001b[26;93H    \u001b[26;98H \u001b[26;100H       \u001b[26;108H      \u001b[26;115H  \u001b[26;118H    \u001b[26;123H   \u001b[26;127H         \u001b[27;93H\u001b[1m\u001b[38;5;8;49mComments (4)\u001b[27;106H\u001b[22m\u001b[39;49m    \u001b[27;111H      \u001b[27;118H              \u001b[27;133H  \u001b[27;136H       \u001b[27;144H   \u001b[27;148H        \u001b[27;157H    \u001b[27;162H    \u001b[27;167H  \u001b[27;170H   \u001b[27;174H   \u001b[28;93H   \u001b[28;97H     \u001b[28;103H  \u001b[28;106H     \u001b[28;112H   \u001b[28;116H         \u001b[28;126H       \u001b[28;134H          \u001b[28;145H     \u001b[28;151H    \u001b[28;156H   \u001b[28;160H    \u001b[28;165H       \u001b[29;93H\u001b[38;5;3;49m    ◆ [+3] You can use `DISTINCT ON` without `ORDER BY`. Just not with a\u001b[39;49m  \u001b[29;168H   \u001b[29;172H    \u001b[30;93H\u001b[38;5;3;49m    contradicting `ORDER BY`. For that you need a subquery. — Erwin Brandstetter\u001b[30;174H\u001b[39;49m   \u001b[31;93H     \u001b[32;93H\u001b[38;2;180;170;150;49m    [+1] I'm not saying a subquery makes it useless, just that you have to use a\u001b[33;93H    subquery and it would be nice if you could do DISTINCT ON without having to also\u001b[34;93H    sort by the same column — zoltankundi\u001b[35;93H\u001b[39;49m   \u001b[35;97H        \u001b[35;106H    \u001b[35;111H   \u001b[35;115H          \u001b[35;126H    \u001b[35;131H           \u001b[35;143H  \u001b[35;146H      \u001b[35;153H            \u001b[35;166H  \u001b[35;169H        \u001b[36;93H\u001b[38;5;3;49m    ◆ [+1] @zoltankundi: Why would a subquery make `DISTINCT ON` useless? I guess\u001b[37;93H    it's about cases like this one? [stackoverflow.com/a/9796104/939860][1] [1]:\u001b[39;49m \u001b[38;93H\u001b[38;5;3;49m    https://stackoverflow.com/a/9796104/939860 — Erwin Brandstetter\u001b[39;49m \u001b[38;162H         \u001b[38;172H   \u001b[39;93H           \u001b[40;93H\u001b[38;2;180;170;150;49m    sadly if you want to order and distinguish by different logics, DISTINCT ON is\u001b[39;49m  \u001b[41;93H\u001b[38;2;180;170;150;49m    useless and you have to use a subquery — zoltankundi\u001b[39;49m    \u001b[41;154H  \u001b[41;157H   \u001b[41;161H       \u001b[41;169H   \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.313966, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.330619, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.347553, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.364656, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.381341, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.39815, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.415081, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.432326, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.449157, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.466286, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.483397, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.501315, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.520536, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.539193, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.556376, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.573582, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.590581, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.60765, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.624759, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.642088, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.661291, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.680143, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.699236, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.719055, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.735042, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.752014, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.768528, "o", "\u001b[1;109H\u001b[1m\u001b[38;5;0;48;5;3m2\u001b[2;93H\u001b[38;5;3;49mANSWER  (+300 votes)\u001b[22m\u001b[39;49m  \u001b[2;116H  \u001b[2;119H  \u001b[2;122H        \u001b[2;131H   \u001b[2;135H       \u001b[2;143H    \u001b[2;148H  \u001b[2;151H         \u001b[2;161H  \u001b[2;164H   \u001b[2;168H   \u001b[2;172H  \u001b[3;93H\u001b[38;5;15;49mby Erwin Brandstetter (669.5K rep)\u001b[3;128H\u001b[39;49m    \u001b[3;133H   \u001b[3;137H  \u001b[3;140H   \u001b[3;144H             \u001b[3;158H   \u001b[3;162H         \u001b[3;172H   \u001b[4;93H           \u001b[5;93H# Be\u001b[5;98Hchmarks  \u001b[5;108H   \u001b[5;112H        \u001b[5;121H     \u001b[5;127H            \u001b[5;140H  \u001b[5;143H          \u001b[5;154H   \u001b[5;158H     \u001b[5;164H  \u001b[5;167H          \u001b[6;93H  \u001b[6;96H   \u001b[6;100H    \u001b[6;105H \u001b[6;107H        \u001b[6;116H     \u001b[6;122H       \u001b[6;130H      \u001b[6;137H          \u001b[6;148H     \u001b[6;154H  \u001b[6;157H   \u001b[6;161H       \u001b[6;169H   \u001b[7;93HI t\u001b[7;97Hsted the most\u001b[7;111Hinteresting\u001b[7;123Hcandidates:\u001b[8;95HInitially with **Postgres 9.4** and **9.5**.                     \u001b[9;95HAdded accented tests for **Postgres 13** later.                        \u001b[10;93H \u001b[10;95H                                      \u001b[11;93H### Basic test setup                     \u001b[13;93HMain table: `purchases`:\u001b[15;93H    \u001b[38;2;180;142;173;49mCREATE\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mTABLE\u001b[38;2;192;197;206;49m \u001b[38;2;143;161;179;49mpurchases\u001b[38;2;192;197;206;49m (\u001b[16;97H  id          \u001b[38;2;180;142;173;49mserial\u001b[38;2;192;197;206;49m  \u001b[38;2;101;115;126;49m-- PK constraint added below\u001b[17;93H\u001b[39;49m    \u001b[38;2;101;115;126;49m, customer_id int     -- REFERENCES customer\u001b[39;49m                                   \u001b[18;93H    \u001b[38;2;101;115;126;49m, total       int     -- could be amount of money in Cent\u001b[39;49m                       \u001b[19;93H   \u001b[19;97H\u001b[38;2;101;115;126;49m, some_column text    -- to make the row bigger, more realistic\u001b[20;93H\u001b[39;49m    \u001b[38;2;101;115;126;49m);\u001b[39;49m                                                                   \u001b[21;93H    \u001b[21;98H                                                                \u001b[22;93HDummy data (with s\u001b[22;112Hme d\u001b[22;117Had tuples), PK, ind\u001b[22;137Hx:                            \u001b[23;93H    \u001b[23;98H                                                                     \u001b[24;93H    \u001b[38;2;180;142;173;49mINSERT INTO\u001b[38;2;192;197;206;49m purchases (customer_id, total, some_column)    \u001b[38;2;101;115;126;49m-- 200k rows\u001b[25;93H\u001b[39;49m    \u001b[38;2;101;115;126;49mSELECT (random() * 10000)::int             AS customer_id  -- 10k distinct customers\u001b[26;97H     , (random() * random() * 100000)::int AS total     \u001b[27;93H\u001b[39;49m    \u001b[38;2;101;115;126;49m     , 'note: ' || repeat('x', (random()^2 * random() * random() * 500)::int)\u001b[28;97HFROM   generate_series(1,200000) g;\u001b[29;93H\u001b[39;49m                                                                        \u001b[30;93H                                                                                \u001b[31;97H\u001b[38;2;101;115;126;49mALTER TABLE purchases ADD CONSTRAINT purchases_id_pkey PRIMARY KEY (id);\u001b[32;93H\u001b[39;49m                                                                                \u001b[33;93H                                                                                    \u001b[34;93H    \u001b[38;2;101;115;126;49mDELETE FROM purchases WHERE random() > 0.9;  -- some dead rows\u001b[36;93H\u001b[39;49m                                                                                 \u001b[37;93H    \u001b[38;2;101;115;126;49mINSERT INTO purchases (customer_id, total, some_column)\u001b[39;49m                     \u001b[38;93H    \u001b[38;2;101;115;126;49mSELECT (random() * 10000)::int             AS customer_id  -- 10k customers\u001b[39;97H     , (random() * random() * 100000)::int AS total     \u001b[40;93H\u001b[39;49m    \u001b[38;2;101;115;126;49m     , 'note: ' || repeat('x', (random()^2 * random() * random() * 500)::int)\u001b[39;49m \u001b[41;93H    \u001b[38;2;101;115;126;49mFROM   generate_series(1,20000) g;  -- add 20k to make it ~ 200k\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.785329, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.802564, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.820234, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.837059, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.854205, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.871971, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.889154, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.905932, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.922764, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.940217, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.957494, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.97527, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[7.993219, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.011309, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.030129, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.049398, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.066755, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.084576, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.103771, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.123166, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.140447, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.158487, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.175466, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.193289, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.210659, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.229927, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.248508, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.265889, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.284226, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.302949, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.321943, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.339042, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.356891, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.375613, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.392421, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.410042, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.429133, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.446327, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.465561, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.482612, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.499563, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.51676, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.533335, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.550591, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.567441, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.584406, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.601293, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.618731, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.635889, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.653558, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.702295, "o", "\u001b[1;91H\u001b[1m\u001b[38;5;15;48;5;4m                                                                            SO · CC BY-SA\u001b[2;92H\u001b[22m\u001b[39;49m                     \u001b[3;92H                                   \u001b[4;92H \u001b[5;92H  \u001b[5;95H          \u001b[6;92H \u001b[7;92H  \u001b[7;95H      \u001b[7;102H   \u001b[7;106H    \u001b[7;111H           \u001b[7;123H           \u001b[8;92H  \u001b[8;95H         \u001b[8;105H    \u001b[8;110H          \u001b[8;121H     \u001b[8;127H   \u001b[8;131H        \u001b[9;92H  \u001b[9;95H     \u001b[9;101H        \u001b[9;110H     \u001b[9;116H   \u001b[9;120H          \u001b[9;131H    \u001b[9;136H      \u001b[10;92H \u001b[11;92H    \u001b[11;97H     \u001b[11;103H    \u001b[11;108H     \u001b[12;92H \u001b[13;92H     \u001b[13;98H      \u001b[13;105H            \u001b[14;92H \u001b[15;92H \u001b[15;97H                        \u001b[16;92H \u001b[16;97H                                                  \u001b[17;92H \u001b[17;97H                                            \u001b[18;92H \u001b[18;97H                                                         \u001b[19;92H \u001b[19;97H                                                               \u001b[20;92H \u001b[20;97H  \u001b[21;92H \u001b[22;92H      \u001b[22;99H    \u001b[22;104H     \u001b[22;110H    \u001b[22;115H    \u001b[22;120H        \u001b[22;129H   \u001b[22;133H      \u001b[23;92H \u001b[24;92H \u001b[24;97H                                                                       \u001b[25;92H \u001b[25;97H                                                                                    \u001b[26;92H \u001b[26;97H                                                        \u001b[27;92H \u001b[27;97H                                                                             \u001b[28;92H \u001b[28;97H                                   \u001b[29;92H \u001b[30;92H \u001b[31;92H \u001b[31;97H                                                                        \u001b[32;92H \u001b[33;92H \u001b[34;92H \u001b[34;97H                                                              \u001b[35;92H \u001b[36;92H \u001b[37;92H \u001b[37;97H                                                       \u001b[38;92H \u001b[38;97H                                                                           \u001b[39;92H \u001b[39;97H                                                        \u001b[40;92H \u001b[40;97H                                                                             \u001b[41;92H \u001b[41;97H                                                                \u001b[42;15H\u001b[38;5;0;48;5;8m:\u001b[42;17Hrwin  Tab:links  o:browser  b/q:back  \u001b[42;57H       \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.71909, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.735769, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.75255, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.769136, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.785756, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.802702, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.819481, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.83621, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.853376, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.870398, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.887864, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.90502, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.922093, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.939234, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.956101, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.97407, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[8.993102, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.011055, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.027782, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.045562, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.062901, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.081385, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.098599, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.115441, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.13304, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.149638, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.16656, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.183299, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.19999, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.217055, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.234304, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.267272, "o", "\u001b[1;91H\u001b[1m\u001b[38;5;0;48;5;3m ◆ Erwin's Answer 1/2                                                     SO · CC BY-SA\u001b[22m\u001b[39;49m  \u001b[2;92H\u001b[38;5;3;49m│\u001b[1mANSWER  (+1849 votes)\u001b[3;92H\u001b[22m│\u001b[38;5;15;49mby Erwin Brandstetter (669.5K rep)\u001b[4;92H\u001b[38;5;3;49m│\u001b[5;92H│\u001b[4m\u001b[38;5;6;49m[**`DISTINCT ON`**]\u001b[24m\u001b[38;5;8;49m[1]\u001b[5;116H\u001b[39;49mis\u001b[5;119Htypically\u001b[5;129Hsimplest\u001b[5;138Hand\u001b[5;142Hfastest\u001b[5;150Hfor\u001b[5;154Hthis\u001b[5;159Hin\u001b[5;162H**PostgreSQL**.\u001b[6;92H\u001b[38;5;3;49m│\u001b[39;49m(For\u001b[6;98Hperformance\u001b[6;110Hoptimization\u001b[6;123Hfor\u001b[6;127Hcertain\u001b[6;135Hworkloads\u001b[6;145Hsee\u001b[6;149Hbelow.)\u001b[7;92H\u001b[38;5;3;49m│\u001b[8;92H│\u001b[8;97H\u001b[38;2;180;142;173;49mSELECT DISTINCT\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m (customer)\u001b[9;92H\u001b[38;5;3;49m│\u001b[9;97H\u001b[38;2;192;197;206;49m       id, customer, total\u001b[10;92H\u001b[38;5;3;49m│\u001b[10;97H\u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m   purchases\u001b[11;92H\u001b[38;5;3;49m│\u001b[11;97H\u001b[38;2;192;197;206;49mORDER  BY customer, total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m, id;\u001b[12;92H\u001b[38;5;3;49m│\u001b[13;92H│\u001b[39;49mOr\u001b[13;96Hshorter\u001b[13;104H(if\u001b[13;108Hnot\u001b[13;112Has\u001b[13;115Hclear)\u001b[13;122Hwith\u001b[13;127Hordinal\u001b[13;135Hnumbers\u001b[13;143Hof\u001b[13;146Houtput\u001b[13;153Hcolumns:\u001b[14;92H\u001b[38;5;3;49m│\u001b[15;92H│\u001b[15;97H\u001b[38;2;180;142;173;49mSELECT DISTINCT\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m (\u001b[38;2;208;135;112;49m2\u001b[38;2;192;197;206;49m)\u001b[16;92H\u001b[38;5;3;49m│\u001b[16;97H\u001b[38;2;192;197;206;49m       id, customer, total\u001b[17;92H\u001b[38;5;3;49m│\u001b[17;97H\u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m   purchases\u001b[18;92H\u001b[38;5;3;49m│\u001b[18;97H\u001b[38;2;192;197;206;49mORDER  BY \u001b[38;2;208;135;112;49m2\u001b[38;2;192;197;206;49m, \u001b[38;2;208;135;112;49m3\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m, \u001b[38;2;208;135;112;49m1\u001b[38;2;192;197;206;49m;\u001b[19;92H\u001b[38;5;3;49m│\u001b[20;92H│\u001b[39;49mIf\u001b[20;96H`total`\u001b[20;104Hcan\u001b[20;108Hbe\u001b[20;111H`null`,\u001b[20;119Hadd\u001b[20;123H`NULLS\u001b[20;130HLAST`:\u001b[21;92H\u001b[38;5;3;49m│\u001b[22;92H│\u001b[22;97H\u001b[38;2;192;197;206;49m...\u001b[23;92H\u001b[38;5;3;49m│\u001b[23;97H\u001b[38;2;192;197;206;49mORDER  BY customer, total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m NULLS LAST, id;\u001b[24;92H\u001b[38;5;3;49m│\u001b[25;92H│\u001b[39;49mWorks\u001b[25;99Heither\u001b[25;106Hway,\u001b[25;111Hbut\u001b[25;115Hyou'll\u001b[25;122Hwant\u001b[25;127Hto\u001b[25;130H\u001b[4m\u001b[38;5;6;49m[match existing indexes]\u001b[24m\u001b[38;5;8;49m[2]\u001b[26;92H\u001b[38;5;3;49m│\u001b[27;92H│\u001b[39;49m*db<>fiddle\u001b[27;105H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[2]\u001b[39;49m*\u001b[28;92H\u001b[38;5;3;49m│\u001b[29;92H│\u001b[39;49m###\u001b[29;97HMajor\u001b[29;103Hpoints\u001b[30;92H\u001b[38;5;3;49m│\u001b[31;92H│\u001b[39;49m**`DISTINCT\u001b[31;105HON`**\u001b[31;111His\u001b[31;114Ha\u001b[31;116HPostgreSQL\u001b[31;127Hextension\u001b[31;137Hof\u001b[31;140Hthe\u001b[31;144Hstandard,\u001b[31;154Hwhere\u001b[31;160Honly\u001b[31;165H`DISTINCT`\u001b[32;92H\u001b[38;5;3;49m│\u001b[39;49mon\u001b[32;96Hthe\u001b[32;100Hwhole\u001b[32;106H`SELECT`\u001b[32;115Hlist\u001b[32;120His\u001b[32;123Hdefined.\u001b[33;92H\u001b[38;5;3;49m│\u001b[34;92H│\u001b[39;49mList\u001b[34;98Hany\u001b[34;102Hnumber\u001b[34;109Hof\u001b[34;112Hexpressions\u001b[34;124Hin\u001b[34;127Hthe\u001b[34;131H`DISTINCT\u001b[34;141HON`\u001b[34;145Hclause,\u001b[34;153Hthe\u001b[34;157Hcombined\u001b[34;166Hrow\u001b[34;170Hvalue\u001b[35;92H\u001b[38;5;3;49m│\u001b[39;49mdefines\u001b[35;101Hduplicates.\u001b[35;113H\u001b[4m\u001b[38;5;6;49m[The manual:]\u001b[24m\u001b[38;5;8;49m[3]\u001b[36;92H\u001b[38;5;3;49m│\u001b[37;92H│\u001b[39;49m>\u001b[37;95HObviously,\u001b[37;106Htwo\u001b[37;110Hrows\u001b[37;115Hare\u001b[37;119Hconsidered\u001b[37;130Hdistinct\u001b[37;139Hif\u001b[37;142Hthey\u001b[37;147Hdiffer\u001b[37;154Hin\u001b[37;157Hat\u001b[37;160Hleast\u001b[37;166Hone\u001b[37;170Hcolumn\u001b[38;92H\u001b[38;5;3;49m│\u001b[39;49m>\u001b[38;95Hvalue.\u001b[38;102H**Null\u001b[38;109Hvalues\u001b[38;116Hare\u001b[38;120Hconsidered\u001b[38;131Hequal\u001b[38;137Hin\u001b[38;140Hthis\u001b[38;145Hcomparison.**\u001b[39;92H\u001b[38;5;3;49m│\u001b[40;92H│\u001b[39;49mBold\u001b[40;98Hemphasis\u001b[40;107Hmine.\u001b[41;92H\u001b[38;5;3;49m│\u001b[42;15H\u001b[38;5;0;48;5;8m/\u001b[42;17H:Erwin  Tab:links  o:browser  b/q:back\u001b[42;57H[Erwin]\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.284369, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.301229, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.318831, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.336244, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.353156, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.369898, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.386669, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.403542, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.420858, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.437854, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.455584, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.474008, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.493939, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.512726, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.529869, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.547073, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.564374, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.583836, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.602445, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.621642, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.641207, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.659722, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.678174, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.695669, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.713415, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.730173, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.746878, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.763588, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.78049, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.797224, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.813944, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.830404, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.846849, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.863778, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.880547, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.897337, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.914282, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.933083, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.95184, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.968622, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[9.98604, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.003095, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.020458, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.037715, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.054535, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.071936, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.089079, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.107503, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.125718, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.144257, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.162219, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.179463, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.197845, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.216664, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.232093, "o", "\u001b[2;93Hwith `EXPLAIN ANALYZE`.\u001b[2;117HMention\u001b[2;125Hof\u001b[2;128H\"*Disk:*\"\u001b[2;138Hin\u001b[2;141Hthe\u001b[2;145Hsort\u001b[2;150Hstep\u001b[2;155Hindicates\u001b[2;165Hthe\u001b[2;169Hneed\u001b[2;174Hfor\u001b[3;93Hmore:                             \u001b[4;93H*\u001b[4;95H\u001b[4m\u001b[38;5;6;49m[Configuration parameter work_mem in PostgreSQL on Linux]\u001b[24m\u001b[38;5;8;49m[14]\u001b[5;93H\u001b[39;49m* \u001b[4m\u001b[38;5;6;49m[Optimize simple query using ORDER BY date and text]\u001b[24m\u001b[38;5;8;49m[15]\u001b[39;49m  \u001b[5;154H    \u001b[5;159H  \u001b[5;162H               \u001b[6;93H    \u001b[6;98H           \u001b[6;110H            \u001b[6;123H   \u001b[6;127H       \u001b[6;135H         \u001b[6;145H   \u001b[6;149H       \u001b[7;93HFor\u001b[7;97H***many*\u001b[7;106Hrows\u001b[7;111Hper\u001b[7;115Hcustomer**\u001b[7;126H(low\u001b[7;131Hcardinality\u001b[7;143Hin\u001b[7;146Hcolumn\u001b[7;153H`customer`),\u001b[7;166Han\u001b[7;169H\"**index\u001b[8;93Hskip scan**\" or \u001b[4m\u001b[38;5;6;49m[**\"loose index scan\"**]\u001b[24m\u001b[38;5;8;49m[4]\u001b[8;137H\u001b[39;49mwould\u001b[8;143Hbe\u001b[8;146H(much)\u001b[8;153Hmore\u001b[8;158Hefficient.\u001b[8;169HBut\u001b[9;93Hthat's not implemented up to Postgres\u001b[9;131H17.\u001b[9;135HSerious\u001b[9;143Hwork\u001b[9;148Hto\u001b[9;151Himplement\u001b[9;161Hit\u001b[9;164Hone\u001b[9;168Hway\u001b[9;172Hor\u001b[10;93Hanother has been ongoing\u001b[10;118Hfor\u001b[10;122Hyears\u001b[10;128Hnow,\u001b[10;133Hbut\u001b[10;137Hso\u001b[10;140Hfar\u001b[10;144Hunsuccessful.\u001b[10;158HSee\u001b[10;162H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[5]\u001b[10;172H\u001b[39;49mand\u001b[11;93H\u001b[4m\u001b[38;5;6;49m[here]\u001b[24m\u001b[38;5;8;49m[18]\u001b[39;49m.                            \u001b[12;93HFor\u001b[12;97Hnow,\u001b[12;102Hthere\u001b[12;108Hare\u001b[12;112H**faster\u001b[12;121Hquery\u001b[12;127Htechniques**\u001b[12;140Hto\u001b[12;143Hsubstitute\u001b[12;154Hfor\u001b[12;158Hthis.\u001b[12;164HIn\u001b[12;167Hparticular\u001b[13;93Hif\u001b[13;96Hyou have a separ\u001b[13;113Hte table\u001b[13;122Hholding u\u001b[13;132Hique customers, which is the typical\u001b[13;169Huse\u001b[14;93Hcase.\u001b[14;99HBut\u001b[14;103Halso\u001b[14;108Hif\u001b[14;111Hyou\u001b[14;115Hdon't:\u001b[15;93H*\u001b[15;95H**\u001b[4m\u001b[38;5;6;49m[Optimize GROUP BY query to retrieve latest row per user]\u001b[24m\u001b[38;5;8;49m[19]\u001b[39;49m**\u001b[16;93H*\u001b[16;95H\u001b[4m\u001b[38;5;6;49m[SELECT DISTINCT is slower than expected on my table in PostgreSQL]\u001b[24m\u001b[38;5;8;49m[20]\u001b[17;93H\u001b[39;49m*\u001b[17;95H\u001b[4m\u001b["]
[10.232379, "o", "38;5;6;49m[Optimize groupwise maximum query]\u001b[24m\u001b[38;5;8;49m[21]\u001b[18;93H\u001b[39;49m*\u001b[18;95H\u001b[4m\u001b[38;5;6;49m[Query last N related rows per row]\u001b[24m\u001b[38;5;8;49m[22]\u001b[20;93H\u001b[39;49m##\u001b[20;96HBenchmarks \u001b[20;108H  \u001b[20;111H       \u001b[20;119H   \u001b[20;123H      \u001b[20;130H      \u001b[22;93H\u001b[38;5;0;48;5;6m[See separate answer.][23]\u001b[23;97H\u001b[39;49m                                              \u001b[24;93H[1]:\u001b[24;98Hhttps://www.postgresql.org/docs/current/sql-select.html#SQL-DISTINCT\u001b[25;93H[2]: https://dbfiddle.uk/?rdbms=postgres_13&fiddle=bf589b26f6e9fe8cdf3c6ca6e045eb6d\u001b[26;93H[3]:\u001b[26;98Hhttps://www.postgresql.org/docs/current/queries-select-lists.html#QUERIES-DISTI\u001b[27;93HNCT        \u001b[27;105H          \u001b[28;93H[4]:\u001b[28;98Hhttps://wiki.postgresql.org/wiki/Loose_indexscan\u001b[29;93H[5]: https://commitfest.postgresql.org/19/1741/\u001b[31;93H\u001b[1m\u001b[38;5;8;49mComments (4)\u001b[22m\u001b[39;49m     \u001b[31;111H  \u001b[31;114H \u001b[31;116H          \u001b[31;127H         \u001b[31;137H  \u001b[31;140H   \u001b[31;144H         \u001b[31;154H     \u001b[31;160H    \u001b[31;165H          \u001b[32;93H  \u001b[32;96H   \u001b[32;100H     \u001b[32;106H        \u001b[32;115H    \u001b[32;120H  \u001b[32;123H        \u001b[33;93H\u001b[38;5;3;49m    ◆ [+3] You can use `DISTINCT ON` without `ORDER BY`. Just not with a\u001b[34;93H    contradicting `ORDER BY`. For that you need a subquery. — Erwin Brandstetter\u001b[39;49m  \u001b[35;93H       \u001b[35;101H           \u001b[35;113H                \u001b[36;93H\u001b[38;2;180;170;150;49m    [+1] I'm not saying a subquery makes it useless, just that you have to use a\u001b[37;93H    subquery and it would be nice if you could do DISTINCT ON without having to also\u001b[38;93H    sort by the same column — zoltankundi\u001b[39;49m  \u001b[38;137H  \u001b[38;140H    \u001b[38;145H             \u001b[40;93H\u001b[38;5;3;49m    ◆ [+1] @zoltankundi: Why would a subquery make `DISTINCT ON` useless? I guess\u001b[41;93H    it's about cases like this one? [stackoverflow.com/a/9796104/939860][1] [1]:\u001b[42;2H\u001b[38;5;0;48;5;8mTab o:open\u001b[42;13HEsc \u001b[38;5;15;48;5;8m[23/23] \u001b[38;5;6;48;5;8mhttps://stackoverflow.com/a/34715134/939860                                                                                                                 \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.249725, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.267534, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.285035, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.301941, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.318777, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.336572, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.353384, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.370151, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.387549, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.404685, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.421809, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.439701, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.457334, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.474882, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.492259, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.510197, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.529058, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.546484, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.564517, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.58316, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.602393, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.61931, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.636757, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.654282, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.674058, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.691938, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.710883, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.733386, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.751985, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.772128, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.789596, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.8066, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.824027, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.84119, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.858052, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.874846, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.892422, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.909086, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.925784, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.94259, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.960024, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.977031, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[10.994268, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.012027, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.028937, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.045797, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.063407, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.080519, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.097698, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.115238, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.133365, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.152281, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.179176, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.191983, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.210928, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.228826, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.24596, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.26369, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.281151, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.299867, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.318882, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.336069, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.35448, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.373346, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.390995, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.409626, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.429189, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.445569, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.462691, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.480414, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.497685, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.515661, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.532673, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.550707, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.567473, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.584505, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.601239, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.619091, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.636362, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.653223, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.670181, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.682164, "o", "\u001b[1;1H\u001b[1m\u001b[38;5;0;48;5;6m Question #3800551                                                                        \u001b[38;5;15;48;5;4m ◆ Erwin's Answer 1/2                                                     SO · CC BY-SA\u001b[22;93H\u001b[22m\u001b[4m\u001b[38;5;6;49m[See separate answer.]\u001b[24m\u001b[38;5;8;49m[23]\u001b[42;2H\u001b[38;5;0;48;5;8mj/k:scroll\u001b[42;13H e/E:Erwin  Tab:links  o:browser  b/q:back  [Question]                                                                                                                  \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.699448, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.716805, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.733509, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.751359, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.768822, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.785781, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.803898, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.825268, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.841934, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.859833, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.877518, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.894657, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.9135, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.931984, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.950741, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.969764, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[11.988979, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.00534, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.022623, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.039302, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.056211, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.072777, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.089227, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.105725, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.122259, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.139316, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.156938, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.174416, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.190942, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.20778, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.224934, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.241705, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.258437, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.275138, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.29188, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.308468, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.325129, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.341978, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.358788, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.376251, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.393477, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.410336, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.427375, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.444299, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.461514, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.478688, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.496256, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.513555, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.53312, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.551919, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.567437, "o", "\u001b[2;2H─────────┼────────┼────────────         \u001b[3;2H1        │Joe     │5               \u001b[4;2H─────────┼────────┼────────────  \u001b[4;36H    \u001b[4;42H \u001b[4;45H    \u001b[4;50H     \u001b[4;57H \u001b[4;60H    \u001b[4;65H     \u001b[5;2H2\u001b[5;11H│Sally\u001b[5;20H│3\u001b[6;2H─────────┴────────┴────────────                             \u001b[8;2H\u001b[1m\u001b[38;5;8;49mComments (4)\u001b[10;2H\u001b[22m\u001b[38;2;180;170;150;49m    Related or duplicate of [stackoverflow.com/q/121387/6064933][1] [1]:\u001b[39;49m  \u001b[10;77H    \u001b[11;2H\u001b[38;2;180;170;150;49m    https://stackoverflow.com/q/121387/6064933 — jdhao\u001b[12;2H\u001b[39;49m             \u001b[12;16H  \u001b[12;19H    \u001b[12;24H   \u001b[12;28H \u001b[12;30H           \u001b[12;42H     \u001b[12;48H    \u001b[12;53H     \u001b[12;59H    \u001b[12;64H     \u001b[13;2H\u001b[38;2;180;170;150;49m    [+2] Does this answer your question? [How do I select the first row per group in an\u001b[14;2H    SQL Query?][1] [1]:\u001b[39;49m     \u001b[15;2H\u001b[38;2;180;170;150;49m    https://stackoverflow.com/questions/1881728/how-do-i-select-the-first-row-per-group-in\u001b[16;2H-an-sql-query\u001b[39;49m \u001b[17;2H\u001b[38;2;180;170;150;49m    — mafu\u001b[18;2H\u001b[39;49m                 \u001b[19;2H\u001b[38;2;180;170;150;49m    [+45] @phil294 querying for max(total) will not associate that total with the 'id'\u001b[20;2H    value of the row on which it occurred. — gwideman\u001b[21;2H\u001b[39;49m \u001b[21;4H    \u001b[21;13H  \u001b[22;2H\u001b[38;2;180;170;150;49m    [+1] since you are only looking for each largest one, why not query for `MAX(total)`?\u001b[23;2H    — phil294\u001b[24;2H\u001b[39;49m                 \u001b[25;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b[26;2H\u001b[39;49m                 \u001b[27;2H\u001b[1m\u001b[38;5;2;49mANSWER 1  (+6 votes)\u001b[28;2H\u001b[22m\u001b[39;49mby Lukasz Szozda (181.8K\u001b[28;27Hrep)\u001b[30;2HSnowflake/Teradata supports \u001b[4m\u001b[38;5;6;49m[QUALIFY]\u001b[24m\u001b[38;5;8;49m[1]\u001b[39;49m clause which works like\u001b[30;67H`HAVING` for\u001b[30;80Hwindowed   \u001b[31;2Hfunc\u001b[31;7Hio\u001b[31;10Hs:    \u001b[31;17H     \u001b[33;13H\u001b[38;2;192;197;206;49mid, customer, \u001b[33;29Htal\u001b[39;49m              \u001b[34;11H\u001b[38;2;192;197;206;49mPURCHASES\u001b[39;49m \u001b[35;6H\u001b[38;2;192;197;206;49mQUALIFY ROW_NUMBER() OVER(PARTITION BY \u001b[38;2;208;135;112;49mp\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mcustomer\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mORDER BY\u001b[38;2;192;197;206;49m \u001b[38;2;208;135;112;49mp\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mtotal\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m) = \u001b[38;2;208;135;112;49m1\u001b[38;2;192;197;206;49m;\u001b[36;6H\u001b[39;49m                    \u001b[37;2HEdit:\u001b[37;8HStarting\u001b[37;17Hfrom\u001b[37;22H\u001b[4m\u001b[38;5;6;49m[release 26ai]\u001b[24m\u001b[38;5;8;49m[1]\u001b[37;40H\u001b[39;49mqualify\u001b[37;48His\u001b[37;51Hsupported\u001b[38;2H          \u001b[38;13H         \u001b[39;2H>\u001b[39;4HUse\u001b[39;8Hthe\u001b[39;12HQUALIFY\u001b[39;20Hclause\u001b[39;27Hto\u001b[39;30Hfilter\u001b[39;37Hthe\u001b[39;41Hresults\u001b[39;49Hof\u001b[39;52Han\u001b[39;55Hanalytic\u001b[39;64Hfunction\u001b[39;73Hthat\u001b[39;78Happears\u001b[39;86Hin\u001b[39;89Ha\u001b[40;2H> SELECT list or in the predicate\u001b[40;36Hspecified\u001b[40;46Hwithin\u001b[40;53Hthe\u001b[40;57HQUALIFY\u001b[40;65Hclause.\u001b[41;2H                               \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.584898, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.601956, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.618618, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.635428, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.652473, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.669411, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.686501, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.703643, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.721111, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.738025, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.755046, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.772054, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.789139, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.805979, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.823875, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.840742, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.857729, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.874826, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.892016, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.909368, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.927232, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.947691, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.953537, "o", "\u001b[2;2Hs.html                         \u001b[3;2H \u001b[3;11H    \u001b[3;20H  \u001b[4;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b[5;2H\u001b[39;49m \u001b[5;11H      \u001b[5;20H  \u001b[6;2H\u001b[1m\u001b[38;5;2;49mANSWER 3  (0 votes)\u001b[22m\u001b[39;49m            \u001b[7;2Hby\u001b[7;5HProgrammer\u001b[7;16H(75\u001b[7;20Hrep)\u001b[8;2H            \u001b[9;2Hyou\u001b[9;6Hcan\u001b[9;10Hget\u001b[9;14Hthe\u001b[9;18Hfirst\u001b[9;24Hrow\u001b[9;28Hin\u001b[9;31Heach\u001b[9;36Hgroup\u001b[9;42Hby\u001b[9;45Husing\u001b[9;51HCTE\u001b[9;55H(common\u001b[9;63Htable\u001b[9;69Hexpression),\u001b[9;82Hbelow\u001b[9;88His\u001b[10;2Hthe sample example                                                      \u001b[11;2H                                                      \u001b[12;6H\u001b[38;2;180;142;173;49mwith\u001b[38;2;192;197;206;49m cte \u001b[38;2;180;142;173;49mas\u001b[38;2;192;197;206;49m (\u001b[38;2;180;142;173;49mSELECT\u001b[38;2;192;197;206;49m t1.*\u001b[13;2H\u001b[39;49m    \u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m table_one t1\u001b[39;49m                                                                  \u001b[14;2H    \u001b[38;2;180;142;173;49mINNER JOIN\u001b[38;2;192;197;206;49m (\u001b[39;49m       \u001b[15;2H    \u001b[38;2;192;197;206;49m    \u001b[38;2;180;142;173;49mSELECT\u001b[38;2;192;197;206;49m id,\u001b[38;2;150;181;180;49mMAX\u001b[38;2;192;197;206;49m(\u001b[38;2;180;142;173;49mdate\u001b[38;2;192;197;206;49m) \u001b[38;2;180;142;173;49mAS\u001b[38;2;192;197;206;49m max_date\u001b[39;49m                                                   \u001b[16;2H    \u001b[38;2;192;197;206;49m    \u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m table1\u001b[17;2H\u001b[39;49m    \u001b[38;2;192;197;206;49m    \u001b[38;2;180;142;173;49mGROUP BY\u001b[38;2;192;197;206;49m id\u001b[18;6H) t2 \u001b[38;2;180;142;173;49mON\u001b[38;2;192;197;206;49m \u001b[38;2;208;135;112;49mt1\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mid\u001b[38;2;192;197;206;49m = \u001b[38;2;208;135;112;49mt2\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mid\u001b[38;2;192;197;206;49m \u001b[38;2;180;142;173;49mAND\u001b[38;2;192;197;206;49m \u001b[38;2;208;135;112;49mt1\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mmax_date\u001b[38;2;192;197;206;49m= \u001b[38;2;208;135;112;49mt2\u001b[38;2;192;197;206;49m.\u001b[38;2;208;135;112;49mdate\u001b[38;2;192;197;206;49m)\u001b[19;2H\u001b[39;49m                                                                                      \u001b[20;2HThanks                                               \u001b[22;2H\u001b[1m\u001b[38;5;8;49mComments (1)\u001b[22m\u001b[39;49m                                                                             \u001b[23;2H             \u001b[24;2H\u001b[38;2;180;170;150;49m    [+1] As it’s currently written, your answer is unclear. Please [edit][1] to add\u001b[25;2H    additional details that will help others understand how this addresses the question\u001b[26;2H    asked. You can find more information on how to write good answers [in the help\u001b[27;2H    center][2]. [1]: https://stackoverflow.com/posts/77110275/edit [2]:\u001b[28;2H    /help/how-to-answer — Community\u001b[30;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b["]
[12.953791, "o", "39;49m    \u001b[30;67H        \u001b[30;76H   \u001b[30;80H        \u001b[31;2H          \u001b[32;2H\u001b[1m\u001b[38;5;2;49mANSWER 4  (+73 votes)\u001b[33;2H\u001b[22m\u001b[39;49mby\u001b[33;5HTomas (60.2K rep)          \u001b[34;6H              \u001b[35;2HThis is common \u001b[4m\u001b[38;5;6;49m[greatest-n-per-group]\u001b[24m\u001b[38;5;8;49m[1]\u001b[39;49m problem, which already has well tested and\u001b[35;86Hhighly\u001b[36;2H\u001b[4m\u001b[38;5;6;49m[optimized solutions]\u001b[24m\u001b[38;5;8;49m[2]\u001b[39;49m.\u001b[36;28HPersonally\u001b[36;39HI\u001b[36;41Hprefer\u001b[36;48Hthe\u001b[36;52H\u001b[4m\u001b[38;5;6;49m[left join solution by Bill Karwin]\u001b[24m\u001b[38;5;8;49m[3]\u001b[37;2H\u001b[39;49m(the \u001b[4m\u001b[38;5;6;49m[original post with lots of other solutions]\u001b[24m\u001b[38;5;8;49m[4]\u001b[39;49m).    \u001b[39;2HNote that\u001b[39;12Hbunch of solutions to this common problem c\u001b[39;57H surprisi\u001b[39;67Hgly be found in the  \u001b[39;89H \u001b[40;2H**MySQL manual**\u001b[40;19H--\u001b[40;22Hev\u001b[40;25Hn though your problem \u001b[40;48Hs \u001b[40;53HPostgres, not MySQL,\u001b[40;74Hthe\u001b[40;78Hsolutions\u001b[41;2Hgiven\u001b[41;8Hshould\u001b[41;15Hwork\u001b[41;20Hwith\u001b[41;25Hmost\u001b[41;30HSQL\u001b[41;34Hvariants.\u001b[41;44HSee\u001b[41;48H[Examples\u001b[41;58Hof\u001b[41;61HCommon\u001b[41;68HQueries\u001b[41;76H::\u001b[41;79HThe\u001b[41;83HRows\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.970965, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[12.988311, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.005079, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.02299, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.039966, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.056928, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.073954, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.091145, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.108574, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.125749, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.143122, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.16215, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.179596, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.197344, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.214214, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.232262, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.250268, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.268288, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.286336, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.288548, "o", "\u001b[2;2HHolding\u001b[2;10Hthe\u001b[2;14HGroup-wise\u001b[2;25HMaximum\u001b[2;33Hof\u001b[2;36Ha\u001b[2;38HCertain\u001b[2;46HColumn][2].\u001b[4;2H[1]: /questions/tagged/greatest-n-per-group                 \u001b[5;2H[2]:\u001b[5;7Hhttp://dev.mysql.com/doc/refman/5.0/en/example-maximum-column-group-row.html\u001b[6;2H                   \u001b[7;2H\u001b[1m\u001b[38;5;8;49mComments (2)\u001b[22m\u001b[39;49m \u001b[7;16H   \u001b[7;20H    \u001b[9;2H\u001b[38;2;180;170;150;49m    As commented under the mentioned \"left join\" solution, beware that self-joins cause\u001b[39;49m \u001b[10;2H\u001b[38;2;180;170;150;49m    performance quadratic in the group sizes, making them unsuitable for when groups can\u001b[11;2H    be large. Refer to the comment about self-joins under that answer for more details.\u001b[12;2H    — Timo\u001b[39;49m                  \u001b[13;6H                 \u001b[14;2H\u001b[38;5;3;49m    ◆ [+33] How is the MySQL manual in any way \"official\" for Postgres / SQLite (not to\u001b[15;2H    mention SQL) questions? Also, to be clear, the `DISTINCT ON` version is much shorter,\u001b[16;2H    simpler and generally performs better in Postgres than alternatives with a self `LEFT\u001b[17;2H    JOIN` or semi-anti-join with `NOT EXISTS`. It is also \"well tested\". — Erwin\u001b[18;2H    Brandstetter\u001b[39;49m                                   \u001b[20;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b[22;2H\u001b[1m\u001b[38;5;2;49mANSWER 5  (+1 votes)\u001b[23;2H\u001b[22m\u001b[39;49mby\u001b[23;5HSalman\u001b[23;12HSabir\u001b[23;18H(69\u001b[23;22Hrep)\u001b[24;2H                                                                                   \u001b[25;2HThis can be achieved easily by MAX FUNCTION on total and GROUP BY id and customer.     \u001b[26;2H                                                                                  \u001b[27;2H    \u001b[38;2;180;142;173;49mSELECT\u001b[38;2;192;197;206;49m id, customer, \u001b[38;2;150;181;180;49mMAX\u001b[38;2;192;197;206;49m(total) \u001b[38;2;180;142;173;49mFROM\u001b[38;2;192;197;206;49m  purchases \u001b[38;2;180;142;173;49mGROUP BY\u001b[38;2;192;197;206;49m id, customer\u001b[28;2H\u001b[39;49m    \u001b[38;2;180;142;173;49mORDER BY\u001b[38;2;192;197;206;49m total \u001b[38;2;180;142;173;49mDESC\u001b[38;2;192;197;206;49m;\u001b[39;49m           \u001b[30;2H\u001b[1m\u001b[38;5;8;49mComments (3)\u001b[22m\u001b[39;49m                                                \u001b[32;2H\u001b[38;2;180;170;150;49m    [+1] \"or if we don't care which one to pick from the group\" but we DO care, hence the\u001b[33;2H    question. — bfontaine\u001b[35;2H    [+2] If we know that the group always contains the same values or if we don't care\u001b[39;49m    \u001b[36;2H\u001b[38;2;180;170;150;49m    which one to pick from the group, why not? In many cases, this is the best solution\u001b[39;49m \u001b[37;2H\u001b[38;2;180;170;150;49m    (only \"order by\" is not needed) — Sergey Shcherbakov\u001b[39;2H\u001b[38;5;3;49m    ◆ [+2] This doesn't do what the OP asks for. — Erwin Brandstetter\u001b[39;49m  \u001b[39;74H     \u001b[39;80H  \u001b[39;83H   \u001b[40;2H       \u001b[40;10H        \u001b[40;19H  \u001b[40;22H    \u001b[40;27H      \u001b[40;34H    \u001b[40;39H       \u001b[40;47H  \u001b[40;50H  \u001b[40;53H         \u001b[40;63H   \u001b[40;67H      \u001b[40;74H   \u001b[40;78H         \u001b[41;2H\u001b[38;5;8;49m────────────────────────────────────────────────────────────\u001b[39;49m     \u001b[41;68H       \u001b[41;76H  \u001b[41;79H   \u001b[41;83H    \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.305866, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.323248, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.340941, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.357766, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.374614, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.392076, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.408983, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.426466, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.444313, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.46171, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.479613, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.496933, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.514287, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.531817, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.549451, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.567682, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.58663, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.604627, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.62318, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.640693, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.658795, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.678052, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.696721, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.713539, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.731069, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.750662, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.767653, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.786558, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.803721, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.821338, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.838461, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.856148, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.873638, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.891113, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.908815, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.925834, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.943755, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.960608, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.977544, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[13.994438, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.011333, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.028285, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.045217, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.062167, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.079114, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.095969, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.113147, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.130116, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.147231, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.164493, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.181628, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.198631, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.21613, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.233205, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.250592, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.267825, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.286079, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.30314, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.320581, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.344994, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.350441, "o", "\u001b[1;1H\u001b[1m\u001b[38;5;15;48;5;4m ErwinDB (3794 questions)                                                                 \u001b[1;92H \u001b[1;94H       \u001b[1;102H      \u001b[1;109H   \u001b[1;165H  \u001b[1;168H \u001b[1;170H  \u001b[1;173H        \u001b[2;1H\u001b[22m\u001b[38;5;8;49m   \u001b[1m     ID  Date          Score▼  Views    A  Title\u001b[22m\u001b[39;49m     \u001b[2;92H     \u001b[2;98H        \u001b[2;107H         \u001b[2;117H       \u001b[2;125H  \u001b[2;128H         \u001b[2;138H  \u001b[2;141H   \u001b[2;145H    \u001b[2;150H    \u001b[2;155H         \u001b[2;165H   \u001b[2;169H    \u001b[2;174H   \u001b[3;1H\u001b[1m\u001b[38;5;0;48;5;6m > \u001b[22m\u001b[38;5;6;49m 3800551 \u001b[1m\u001b[38;5;15;49mSep 27, 2010   2071    1.9M   21 Select first row in each GROUP BY group?\u001b[3;92H\u001b[22m\u001b[39;49m      \u001b[4;2H  \u001b[38;5;8;49m  244243 Oct 28, 2008 \u001b[38;5;2;49m   760 \u001b[38;5;8;49m 480.7K \u001b[38;5;2;49m  36 \u001b[39;49mHow\u001b[4;50Hto\u001b[4;53Hreset\u001b[4;59HPostgres&#39;\u001b[4;73Hprimary\u001b[4;81Hkey\u001b[4;85Hsequence when it falls out of sync?                                    \u001b[5;2H  \u001b[38;5;8;49m   54418 Sep 10, 2008 \u001b[38;5;2;49m   614 \u001b[38;5;8;49m   1.4M \u001b[38;5;2;49m   5 \u001b[39;49mHow do I (or can I) SELECT DISTINCT on\u001b[5;85Hmultiple columns?                                                 \u001b[6;4H\u001b[38;5;8;49m34708509 Jan 10, 2016 \u001b[38;5;2;49m   383 \u001b[38;5;8;49m 247.3K \u001b[38;5;2;49m  11 \u001b[39;49mHow\u001b[6;50Hto\u001b[6;53Huse\u001b[6;57HRETURNING\u001b[6;67Hwith\u001b[6;72HON\u001b[6;75HCONFLICT\u001b[6;84Hin\u001b[6;87HPostgreSQL?\u001b[7;2H  \u001b[38;5;8;49m28550679 Feb 16, 2015 \u001b[38;5;2;49m   378 \u001b[38;5;8;49m 458.5K \u001b[38;5;2;49m   5 \u001b[39;49mWhat\u001b[7;51His\u001b[7;54Hthe\u001b[7;58Hdifference\u001b[7;69Hbetween\u001b[7;77HLATERAL\u001b[7;85HJOIN\u001b[7;90Hand a subquer\u001b[7;104H in Postg\u001b[7;114HeSQL?      \u001b[7;126H    \u001b[7;131H           \u001b[7;143H  \u001b[7;146H      \u001b[7;153H            \u001b[7;166H  \u001b[7;169H        \u001b[8;4H\u001b[38;5;8;49m34627026 Jan 06, 2016 \u001b[38;5;2;49m   353 \u001b[38;5;8;49m 513.3K    3 \u001b[39;49mIN\u001b[8;49Hvs\u001b[8;52HANY\u001b[8;56Hoperator\u001b[8;65Hin\u001b[8;68HPostgreSQL\u001b[8;92H     \u001b[8;98H       \u001b[8;106H  \u001b[8;109H                           \u001b[8;137H     \u001b[8;143H  \u001b[8;146H      \u001b[8;153H    \u001b[8;158H          \u001b[8;169H   \u001b[9;2H  \u001b[38;5;8;49m 1766046 Nov 19, 2009 \u001b[38;5;2;49m   339 \u001b[38;5;8;49m 524.4K    6 \u001b[39;49mPostgreSQL create table if not exists      \u001b[9;92H       \u001b[9;100H   \u001b[9;104H           \u001b[9;116H  \u001b[9;119H  \u001b[9;122H        \u001b[9;131H   \u001b[9;135H       \u001b[9;143H    \u001b[9;148H  \u001b[9;151H         \u001b[9;161H  \u001b[9;164H   \u001b[9;168H   \u001b[9;172H  \u001b[10;2H  \u001b[38;5;8;49m 3002499 Jun 09, 2010 \u001b[38;5;2;49m   285 \u001b[38;5;8;49m 395.1K \u001b[38;5;2;49m   7 \u001b[39;49mPostgreSQL Crosstab Query                   \u001b[10;92H        \u001b[10;101H   \u001b[10;105H    \u001b[10;110H       \u001b[10;118H   \u001b[10;122H     \u001b[10;128H    \u001b[10;133H   \u001b[10;137H  \u001b[10;140H   \u001b[10;144H             \u001b[10;158H   \u001b[10;162H         \u001b[10;172H   \u001b[11;2H  \u001b[38;5;8;49m28888375 Mar 05, 2015 \u001b[38;5;2;49m   273 \u001b[38;5;8;49m 178.9K \u001b[38;5;2;49m   4 \u001b[39;49mRun a query with a LIMIT/OFFSET and also get\u001b[11;91Hthe total number\u001b[11;108Hof\u001b[11;111Hrows\u001b[12;2H  \u001b[38;5;8;49m26703476 Nov 02, 2014 \u001b[38;5;2;49m   268 \u001b[38;5;8;49m 380.1K \u001b[38;5;2;49m  11 \u001b[39;49mHow\u001b[12;50Hto\u001b[12;53Hperform\u001b[12;61Hupdate\u001b[12;68Hoperations\u001b[12;79Hon\u001b[12;82Hcolumns\u001b[12;90Hof type JSONB    \u001b[12;108H   \u001b[12;112H        \u001b[12;121H     \u001b[12;127H            \u001b[12;140H  \u001b[12;143H          \u001b[12;154H   \u001b[12;158H     \u001b[12;164H  \u001b[12;167H          \u001b[13;4H\u001b[38;5;8;49m  866465 May 15, 2009 \u001b[38;5;2;49m   267 \u001b[38;5;8;49m 198.9K \u001b[38;5;2;49m  17 \u001b[39;49mORDER\u001b[13;52HBY\u001b[13;55Hthe\u001b[13;59HIN\u001b[13;62Hvalue\u001b[13;68Hlist\u001b[13;92H   \u001b[13;96H   \u001b[13;100H    \u001b[13;105H \u001b[13;107H        \u001b[13;116H     \u001b[13;122H       \u001b[13;130H      \u001b[13;137H          \u001b[13;148H     \u001b[13;154H  \u001b[13;157H   \u001b[13;161H       \u001b[13;169H   \u001b[14;2H  \u001b[38;5;8;49m 4058731 Oct 30, 2010 \u001b[38;5;2;49m   246 \u001b[38;5;8;49m 184.8K \u001b[38;5;2;49m   3 \u001b[39;49mCan PostgreSQL index array columns?        \u001b[14;92H      \u001b[14;99H   \u001b[14;103H    \u001b[14;108H  \u001b[14;111H   \u001b[14;115H      \u001b[15;2H  \u001b[38;5;8;49m 2829158 May 13, 2010 \u001b[38;5;2;49m   236 \u001b[38;5;8;49m 318.6K \u001b[38;5;2;49m  14 \u001b[39;49mTruncating all tables in a Postgres database \u001b[15;92H  \u001b[15;95H                                                                 \u001b[16;2H  \u001b[38;5;8;49m 2763817 May 04, 2010 \u001b[38;5;2;49m   205 \u001b["]
[14.350514, "o", "38;5;8;49m 303.6K    8 \u001b[39;49mSQL update fields of one table from fields of\u001b[16;92Hanother one                                                               \u001b[17;2H  \u001b[38;5;8;49m 6583916 Jul 05, 2011 \u001b[38;5;2;49m   198 \u001b[38;5;8;49m 210.6K \u001b[38;5;2;49m  15 \u001b[39;49mDelete duplicate rows from small table\u001b[17;92H  \u001b[17;95H                                      \u001b[18;2H  \u001b[38;5;8;49m 7510092 Sep 22, 2011 \u001b[38;5;2;49m   193 \u001b[38;5;8;49m 113.9K \u001b[38;5;2;49m  13 \u001b[39;49mWhat\u001b[18;51Hare\u001b[18;55Hthe\u001b[18;59Hpros\u001b[18;64Hand\u001b[18;68Hcons\u001b[18;73Hof\u001b[18;76Hperforming\u001b[18;87Hcalculations in sql vs. in your application    \u001b[19;4H\u001b[38;5;8;49m 5350088 Mar 18, 2011 \u001b[38;5;2;49m   185 \u001b[38;5;8;49m 240.3K \u001b[38;5;2;49m  10 \u001b[39;49mHow\u001b[19;50Hto\u001b[19;53Hsearch\u001b[19;60Ha\u001b[19;62Hspecific\u001b[19;71Hvalue\u001b[19;77Hin\u001b[19;80Hall\u001b[19;84Htables\u001b[19;91H(PostgreSQL)?\u001b[20;2H  \u001b[38;5;8;49m35888012 Mar 09, 2016 \u001b[38;5;2;49m   179 \u001b[38;5;8;49m 212.2K \u001b[38;5;2;49m  14 \u001b[39;49mUse multiple conflict_target\u001b[20;75Hin\u001b[20;78HON\u001b[20;81HCONFLICT\u001b[20;90Hclause          \u001b[21;4H\u001b[38;5;8;49m 2082686 Jan 17, 2010 \u001b[38;5;2;49m   178 \u001b[38;5;8;49m 264.7K \u001b[38;5;2;49m  14 \u001b[39;49mHow\u001b[21;50Hdo\u001b[21;53HI\u001b[21;55Hcast\u001b[21;60Ha\u001b[21;62Hstring\u001b[21;69Hto\u001b[21;72Hinteger\u001b[21;80Hand\u001b[21;84Hhave\u001b[21;89H0\u001b[21;91Hin\u001b[21;94Hcase\u001b[21;99Hof\u001b[21;102Herror\u001b[21;108Hin\u001b[21;111Hthe\u001b[21;115Hcast\u001b[21;120Hwith\u001b[21;125HPostgreSQL?\u001b[22;2H  \u001b[38;5;8;49m 1566717 Oct 14, 2009 \u001b[38;5;2;49m   170 \u001b[38;5;8;49m 182.2K \u001b[38;5;2;49m   8 \u001b[39;49mPostgreSQL\u001b[22;57HLIKE\u001b[22;62Hquery\u001b[22;68Hperformance\u001b[22;80Hvariations\u001b[22;92H                           \u001b[23;2H  \u001b[38;5;8;49m 7621205 Oct 01, 2011 \u001b[38;5;2;49m   160 \u001b[38;5;8;49m  85.4K \u001b[38;5;2;49m   2 \u001b[39;49mSort\u001b[23;51HNULL\u001b[23;56Hvalues\u001b[23;63Hto\u001b[23;66Hthe\u001b[23;70Hend\u001b[23;74Hof\u001b[23;77Ha\u001b[23;79Htable\u001b[23;92H \u001b[24;4H\u001b[38;5;8;49m51256454 Jul 10, 2018 \u001b[38;5;2;49m   152 \u001b[38;5;8;49m 184.8K \u001b[38;5;2;49m   7 \u001b[39;49mCannot\u001b[24;53Hdrop\u001b[24;58HPostgreSQL\u001b[24;69Hrole.\u001b[24;75HError:\u001b[24;82H`cannot\u001b[24;90Hbe dropped because some objects depend on it`                               \u001b[25;2H  \u001b[38;5;8;49m35248217 Feb 07, 2016 \u001b[38;5;2;49m   141 \u001b[38;5;8;49m 161.2K \u001b[38;5;2;49m   4 \u001b[39;49mHow to use multiple CTEs\u001b[25;71Hi\u001b[25;73H a singl\u001b[25;82H SQL\u001b[25;87Hquery?    \u001b[25;98H                                                                              \u001b[26;4H\u001b[38;5;8;49m 6362112 Jun 15, 2011 \u001b[38;5;2;49m   139 \u001b[38;5;8;49m 223.3K \u001b[38;5;2;49m  10 \u001b[39;49mIN\u001b[26;49HClause\u001b[26;56Hwith\u001b[26;61HNULL\u001b[26;66Hor\u001b[26;69HIS\u001b[26;72HNULL\u001b[26;92H     \u001b[26;98H                                                                               \u001b[27;4H\u001b[38;5;8;49m 4990622 Feb 14, 2011 \u001b[38;5;2;49m   125 \u001b[38;5;8;49m  70.5K    4 \u001b[39;49mHow to create a temporary function\u001b[27;81Hin\u001b[27;84HPostgreSQL? \u001b[28;4H\u001b[38;5;8;49m 7364969 Sep 09, 2011 \u001b[38;5;2;49m   113 \u001b[38;5;8;49m  29.5K \u001b[38;5;2;49m  13 \u001b[39;49mHow\u001b[28;50Hto\u001b[28;53Hfilter\u001b[28;60HSQL\u001b[28;64Hresults\u001b[28;72Hin\u001b[28;75Ha\u001b[28;77Hhas-many-through relation                                            \u001b[29;4H\u001b[38;5;8;49m 4547672 Dec 28, 2010 \u001b[38;5;2;49m   "]
[14.350858, "o", "110 \u001b[38;5;8;49m 253.9K \u001b[38;5;2;49m   7 \u001b[39;49mReturn\u001b[29;53Hmultiple\u001b[29;62Hfields\u001b[29;69Has\u001b[29;72Ha\u001b[29;74Hrecord\u001b[29;81Hin\u001b[29;84HPostgreSQL wit\u001b[29;99H PL/pgSQL                                \u001b[30;2H  \u001b[38;5;8;49m28975517 Mar 10, 2015 \u001b[38;5;2;49m   107 \u001b[38;5;8;49m  62.9K \u001b[38;5;2;49m   1 \u001b[39;49mDifference\u001b[30;57Hbetween\u001b[30;65HGiST\u001b[30;70Hand\u001b[30;74HGIN\u001b[30;78Hindexes\u001b[30;92H \u001b[31;4H\u001b[38;5;8;49m 2966524 Jun 03, 2010 \u001b[38;5;2;49m   107 \u001b[38;5;8;49m  55.5K \u001b[38;5;2;49m   5 \u001b[39;49mCalculating\u001b[31;58Hand\u001b[31;62Hsaving\u001b[31;69Hspace\u001b[31;75Hin\u001b[31;78HPostgreSQL\u001b[31;92H             \u001b[32;2H  \u001b[38;5;8;49m 2436820 Mar 13, 2010 \u001b[38;5;2;49m   101 \u001b[38;5;8;49m 473.4K \u001b[38;5;2;49m  12 \u001b[39;49mCan I do a max(count(*)) in SQL?             \u001b[32;92H \u001b[33;2H  \u001b[38;5;8;49m  156114 Oct 01, 2008 \u001b[38;5;2;49m    97 \u001b[38;5;8;49m  68.3K \u001b[38;5;2;49m   5 \u001b[39;49mBest\u001b[33;51Hway\u001b[33;55Hto\u001b[33;58Hget\u001b[33;62Hresult\u001b[33;69Hcount\u001b[33;75Hbefore\u001b[33;82HLIMIT\u001b[33;88Hwas\u001b[33;92Happlied                                                                  \u001b[34;4H\u001b[38;5;8;49m 4088532 Nov 03, 2010 \u001b[38;5;2;49m    95 \u001b[38;5;8;49m  46.5K \u001b[38;5;2;49m   5 \u001b[39;49mCustom\u001b[34;53HORDER\u001b[34;59HBY\u001b[34;62HExplanation\u001b[34;92H                                                                                 \u001b[35;2H  \u001b[38;5;8;49m29419993 Apr 02, 2015 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m 111.3K \u001b[38;5;2;49m   3 \u001b[39;49mSplit column into multiple rows in Postgres\u001b[35;92H \u001b[36;2H  \u001b[38;5;8;49m 1746213 Nov 17, 2009 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m  92.8K \u001b[38;5;2;49m  16 \u001b[39;49mHow to delete duplicate entries?           \u001b[36;92H                                                                                 \u001b[37;2H  \u001b[38;5;8;49m 1113277 Jul 11, 2009 \u001b[38;5;2;49m    93 \u001b[38;5;8;49m  67.4K    9 \u001b[39;49mHow do I do large\u001b[37;64Hnon-blocking\u001b[37;77Hupdates\u001b[37;85Hin\u001b[37;88HPostgreSQL?                                                                              \u001b[38;4H\u001b[38;5;8;49m26769454 Nov 05, 2014 \u001b[38;5;2;49m    89 \u001b[38;5;8;49m 114.0K \u001b[38;5;2;49m  10 \u001b[39;49mHow\u001b[38;50Hto\u001b[38;53Hdelete\u001b[38;60Hduplicate\u001b[38;70Hrows\u001b[38;75Hwithout\u001b[38;83Hunique\u001b[38;90Hidentifier                                  \u001b[39;2H  \u001b[38;5;8;49m 3862648 Oct 05, 2010 \u001b[38;5;2;49m    87 \u001b[38;5;8;49m 233.1K    7 \u001b[39;49mHow to use (install) dblink\u001b[39;74Hin\u001b[39;77HPostgreSQL?\u001b[39;92H \u001b[40;4H\u001b[38;5;8;49m 7299342 Sep 04, 2011 \u001b[38;5;2;49m    85 \u001b[38;5;8;49m  41.6K \u001b[38;5;2;49m   5 \u001b[39;49mWhat\u001b[40;51His\u001b[40;54Hthe\u001b[40;58Hfastest\u001b[40;66Hway\u001b[40;70Hto\u001b[40;73Htruncate\u001b[40;82Htimestamps to 5 minutes in Postgres?                                                        \u001b[41;2H  \u001b[38;5;8;49m36075918 Mar 18, 2016 \u001b[38;5;2;49m    80 \u001b[38;5;8;49m  80.4K \u001b[38;5;2;49m   1 \u001b[39;49mPostgreSQL Index\u001b[41;63Hon\u001b[41;66HJSON\u001b[41;92H                                                                                 \u001b[42;6H\u001b[38;5;0;48;5;8mmove  Space/Ctrl-d/u:page  1-5:so\u001b[42;40Ht  /:title  ?:semantic  q:quit\u001b[42;171H1/3794\u001b[42;178H0%\u001b[39;49m \u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.368016, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.385276, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.402486, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.419296, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.436643, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.454454, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.471626, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.488625, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.505822, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.523051, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.540422, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.557495, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.574669, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.591939, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.60939, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.626349, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.643898, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.66111, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.678712, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.695979, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.713306, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.731289, "o", "\u001b[39m\u001b[49m\u001b[59m\u001b[0m\u001b[?25l"]
[14.745043, "o", "\u001b[?1049l\u001b[?1006l\u001b[?1015l\u001b[?1003l\u001b[?1002l\u001b[?1000l\u001b[?25h"]
